{"id":"69ni","dependencies":[{"name":"/Users/adityaaggarwal/Documents/2019/3elephants/react-sandbox/package.json","includedInParent":true,"mtime":1551663414248},{"name":"react","loc":{"line":1,"column":18},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/react-sandbox/src/controller.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/react-sandbox/node_modules/react/index.js"},{"name":"react-dom","loc":{"line":2,"column":21},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/react-sandbox/src/controller.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/react-sandbox/node_modules/react-dom/index.js"},{"name":"./App","loc":{"line":3,"column":16},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/react-sandbox/src/controller.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/react-sandbox/src/App.js"}],"generated":{"js":"\"use strict\";var t=a(require(\"react\")),e=a(require(\"react-dom\")),o=a(require(\"./App\"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var o=RegExp(\"^(http[s]?://)?([\\\\w.-]+)(:[0-9]+)?/([\\\\w-%]+/)?(dp|gp/product|exec/obidos/asin)/(\\\\w+/)?(\\\\w{10})(.*)?$\"),a=window.location.href.match(o),r=\"https://sheltered-mountain-69586.herokuapp.com/GetProductClass?name=\"+encodeURIComponent(t)+\"&mode=\"+e;null!=a&&null!=a&&a.length>7&&(r+=\"&asin=\"+a[7]),$.get(r,function(t,o){console.log(t);var a=JSON.parse(t),r=\"\",s=a.classification;if((e||0==s)&&!(0==a.has_results||0!=a.data_quality&&a.data_quality<2)){r=0==s?\"  <span style='color:green'> Eco Friendly </span> \":1==s?\"   <span style='color:red'> Not Eco Friendly </span>\":2==s?\"    <span style='color:blue'> Neutral </span> \":\"API return value is not valid in myscript.js\";var i,n=$(r);if(a.has_results){n.first().attr(\"id\",\"t_el_label\");var l='<i class=\"material-icons icon-colors\">info</i> <span class=\"tooltiptext\"> ';if(l+='On a 5 star greenness rating scale, our sources give the product a of <span class=\"tooltiptextemphasis\">'+Number.parseFloat((i=a.score,5*i)).toFixed(1),l+=\"</span>. \",a.data_quality>=2){l+='<br> <br> Based on <span class=\"tooltiptextemphasis\">'+{2:\"Limited\",3:\"Fair\",4:\"Good\",5:\"Robust\"}[Math.round(a.data_quality)]+\"</span> amount of data.\"}l+='<br><br> <a  target=\"_blank\" style=\"font-style: italic;\" href=\"https://3elephants.github.io/website/description.html\">See More Information on How We Rate Products</a> ',l+='</span><div id=\"sampleDiv\"></div>',n.append(l)}var d=$(\"#productTitle\").text()+n.prop(\"outerHTML\");$(\"#productTitle\").html(d),$(\"#title_feature_div\").css({overflow:\"visible\",\"margin-bottom\":\"50px\"}),$(function(){$(\"#productTitle\").html(d),$(\"#title_feature_div\").css({overflow:\"visible\",\"margin-bottom\":\"50px\"})})}});return JSON.parse('{\"rating\": 0}').rating}var s=\"productTitle\",i=new MutationObserver(function(t){for(var e=0;e<t.length;e++)for(var o=0;o<t[e].addedNodes.length;o++){var a=t[e].addedNodes[o];if(a.nodeType==Node.ELEMENT_NODE&&a.id==s){var n=\"Soap for Goodness Sakes\";n=(n=$(\"#productTitle\").text()).trim(),chrome.storage.sync.get({betaMode:!0,toSort:!0},function(t){r(n,t.betaMode)}),i.disconnect()}}});i.observe(document.documentElement,{childList:!0,subtree:!0});","map":{"mappings":[{"source":"controller.js","original":{"line":167,"column":0},"generated":{"line":1,"column":0}},{"source":"controller.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"controller.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"controller.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"controller.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"controller.js","original":{"line":1,"column":0},"generated":{"line":1,"column":29}},{"source":"controller.js","original":{"line":2,"column":0},"generated":{"line":1,"column":39}},{"source":"controller.js","original":{"line":2,"column":0},"generated":{"line":1,"column":41}},{"source":"controller.js","original":{"line":2,"column":0},"generated":{"line":1,"column":43}},{"source":"controller.js","original":{"line":2,"column":0},"generated":{"line":1,"column":51}},{"source":"controller.js","original":{"line":3,"column":0},"generated":{"line":1,"column":65}},{"source":"controller.js","original":{"line":3,"column":0},"generated":{"line":1,"column":67}},{"source":"controller.js","original":{"line":3,"column":0},"generated":{"line":1,"column":69}},{"source":"controller.js","original":{"line":3,"column":0},"generated":{"line":1,"column":77}},{"source":"controller.js","original":{"line":167,"column":0},"generated":{"line":1,"column":87}},{"source":"controller.js","original":{"line":167,"column":0},"generated":{"line":1,"column":96}},{"source":"controller.js","original":{"line":167,"column":0},"generated":{"line":1,"column":98}},{"source":"controller.js","original":{"line":167,"column":0},"generated":{"line":1,"column":101}},{"source":"controller.js","original":{"line":167,"column":0},"generated":{"line":1,"column":108}},{"source":"controller.js","original":{"line":167,"column":0},"generated":{"line":1,"column":111}},{"source":"controller.js","original":{"line":167,"column":0},"generated":{"line":1,"column":113}},{"source":"controller.js","original":{"line":167,"column":0},"generated":{"line":1,"column":124}},{"source":"controller.js","original":{"line":167,"column":0},"generated":{"line":1,"column":126}},{"source":"controller.js","original":{"line":167,"column":0},"generated":{"line":1,"column":127}},{"source":"controller.js","original":{"line":167,"column":0},"generated":{"line":1,"column":135}},{"source":"controller.js","original":{"line":6,"column":0},"generated":{"line":1,"column":138}},{"source":"controller.js","name":"getResultsFromAPI","original":{"line":6,"column":9},"generated":{"line":1,"column":147}},{"source":"controller.js","name":"searchTerm","original":{"line":6,"column":27},"generated":{"line":1,"column":149}},{"source":"controller.js","name":"betaMode","original":{"line":6,"column":39},"generated":{"line":1,"column":151}},{"source":"controller.js","name":"regex","original":{"line":9,"column":6},"generated":{"line":1,"column":154}},{"source":"controller.js","name":"regex","original":{"line":9,"column":6},"generated":{"line":1,"column":158}},{"source":"controller.js","name":"RegExp","original":{"line":9,"column":14},"generated":{"line":1,"column":160}},{"source":"controller.js","original":{"line":9,"column":21},"generated":{"line":1,"column":167}},{"source":"controller.js","name":"m","original":{"line":10,"column":6},"generated":{"line":1,"column":275}},{"source":"controller.js","name":"window","original":{"line":10,"column":10},"generated":{"line":1,"column":277}},{"source":"controller.js","name":"location","original":{"line":10,"column":17},"generated":{"line":1,"column":284}},{"source":"controller.js","name":"href","original":{"line":10,"column":26},"generated":{"line":1,"column":293}},{"source":"controller.js","name":"match","original":{"line":10,"column":31},"generated":{"line":1,"column":298}},{"source":"controller.js","name":"regex","original":{"line":10,"column":37},"generated":{"line":1,"column":304}},{"source":"controller.js","name":"serverUrl","original":{"line":14,"column":6},"generated":{"line":1,"column":307}},{"source":"controller.js","original":{"line":14,"column":18},"generated":{"line":1,"column":309}},{"source":"controller.js","name":"encodeURIComponent","original":{"line":12,"column":26},"generated":{"line":1,"column":380}},{"source":"controller.js","name":"searchTerm","original":{"line":12,"column":45},"generated":{"line":1,"column":399}},{"source":"controller.js","original":{"line":14,"column":111},"generated":{"line":1,"column":402}},{"source":"controller.js","name":"betaMode","original":{"line":14,"column":122},"generated":{"line":1,"column":411}},{"source":"controller.js","original":{"line":15,"column":10},"generated":{"line":1,"column":413}},{"source":"controller.js","name":"m","original":{"line":15,"column":6},"generated":{"line":1,"column":419}},{"source":"controller.js","name":"undefined","original":{"line":15,"column":21},"generated":{"line":1,"column":422}},{"source":"controller.js","name":"m","original":{"line":15,"column":18},"generated":{"line":1,"column":428}},{"source":"controller.js","name":"m","original":{"line":15,"column":34},"generated":{"line":1,"column":431}},{"source":"controller.js","name":"length","original":{"line":15,"column":36},"generated":{"line":1,"column":433}},{"source":"controller.js","original":{"line":15,"column":45},"generated":{"line":1,"column":440}},{"source":"controller.js","name":"serverUrl","original":{"line":16,"column":4},"generated":{"line":1,"column":444}},{"source":"controller.js","original":{"line":16,"column":17},"generated":{"line":1,"column":447}},{"source":"controller.js","name":"m","original":{"line":16,"column":28},"generated":{"line":1,"column":456}},{"source":"controller.js","original":{"line":16,"column":30},"generated":{"line":1,"column":458}},{"source":"controller.js","name":"$","original":{"line":18,"column":2},"generated":{"line":1,"column":462}},{"source":"controller.js","name":"get","original":{"line":18,"column":4},"generated":{"line":1,"column":464}},{"source":"controller.js","name":"serverUrl","original":{"line":18,"column":8},"generated":{"line":1,"column":468}},{"source":"controller.js","original":{"line":18,"column":19},"generated":{"line":1,"column":470}},{"source":"controller.js","name":"data","original":{"line":18,"column":28},"generated":{"line":1,"column":479}},{"source":"controller.js","name":"status","original":{"line":18,"column":34},"generated":{"line":1,"column":481}},{"source":"controller.js","name":"console","original":{"line":19,"column":4},"generated":{"line":1,"column":484}},{"source":"controller.js","name":"log","original":{"line":19,"column":12},"generated":{"line":1,"column":492}},{"source":"controller.js","name":"data","original":{"line":19,"column":16},"generated":{"line":1,"column":496}},{"source":"controller.js","name":"result","original":{"line":20,"column":8},"generated":{"line":1,"column":499}},{"source":"controller.js","name":"result","original":{"line":20,"column":8},"generated":{"line":1,"column":503}},{"source":"controller.js","name":"JSON","original":{"line":20,"column":17},"generated":{"line":1,"column":505}},{"source":"controller.js","name":"parse","original":{"line":20,"column":22},"generated":{"line":1,"column":510}},{"source":"controller.js","name":"data","original":{"line":20,"column":28},"generated":{"line":1,"column":516}},{"source":"controller.js","name":"newText","original":{"line":21,"column":8},"generated":{"line":1,"column":519}},{"source":"controller.js","original":{"line":21,"column":18},"generated":{"line":1,"column":521}},{"source":"controller.js","name":"productGreenRating","original":{"line":23,"column":8},"generated":{"line":1,"column":524}},{"source":"controller.js","name":"result","original":{"line":23,"column":29},"generated":{"line":1,"column":526}},{"source":"controller.js","name":"classification","original":{"line":23,"column":36},"generated":{"line":1,"column":528}},{"source":"controller.js","original":{"line":24,"column":8},"generated":{"line":1,"column":543}},{"source":"controller.js","name":"betaMode","original":{"line":24,"column":9},"generated":{"line":1,"column":547}},{"source":"controller.js","original":{"line":24,"column":43},"generated":{"line":1,"column":550}},{"source":"controller.js","name":"productGreenRating","original":{"line":24,"column":21},"generated":{"line":1,"column":553}},{"source":"controller.js","original":{"line":27,"column":30},"generated":{"line":1,"column":559}},{"source":"controller.js","name":"result","original":{"line":27,"column":8},"generated":{"line":1,"column":562}},{"source":"controller.js","name":"has_results","original":{"line":27,"column":15},"generated":{"line":1,"column":564}},{"source":"controller.js","original":{"line":27,"column":63},"generated":{"line":1,"column":577}},{"source":"controller.js","name":"result","original":{"line":27,"column":40},"generated":{"line":1,"column":580}},{"source":"controller.js","name":"data_quality","original":{"line":27,"column":47},"generated":{"line":1,"column":582}},{"source":"controller.js","name":"result","original":{"line":27,"column":68},"generated":{"line":1,"column":596}},{"source":"controller.js","name":"data_quality","original":{"line":27,"column":75},"generated":{"line":1,"column":598}},{"source":"controller.js","original":{"line":27,"column":90},"generated":{"line":1,"column":611}},{"source":"controller.js","name":"result","original":{"line":27,"column":8},"generated":{"line":1,"column":614}},{"source":"controller.js","name":"newText","original":{"line":32,"column":6},"generated":{"line":1,"column":615}},{"source":"controller.js","original":{"line":31,"column":37},"generated":{"line":1,"column":617}},{"source":"controller.js","name":"productGreenRating","original":{"line":31,"column":15},"generated":{"line":1,"column":620}},{"source":"controller.js","original":{"line":32,"column":16},"generated":{"line":1,"column":622}},{"source":"controller.js","original":{"line":33,"column":35},"generated":{"line":1,"column":675}},{"source":"controller.js","name":"productGreenRating","original":{"line":33,"column":13},"generated":{"line":1,"column":678}},{"source":"controller.js","original":{"line":34,"column":16},"generated":{"line":1,"column":680}},{"source":"controller.js","original":{"line":35,"column":35},"generated":{"line":1,"column":735}},{"source":"controller.js","name":"productGreenRating","original":{"line":35,"column":13},"generated":{"line":1,"column":738}},{"source":"controller.js","original":{"line":36,"column":16},"generated":{"line":1,"column":740}},{"source":"controller.js","original":{"line":38,"column":16},"generated":{"line":1,"column":789}},{"source":"controller.js","name":"labelObject","original":{"line":39,"column":8},"generated":{"line":1,"column":836}},{"source":"controller.js","name":"score","original":{"line":46,"column":36},"generated":{"line":1,"column":840}},{"source":"controller.js","name":"labelObject","original":{"line":39,"column":8},"generated":{"line":1,"column":842}},{"source":"controller.js","name":"$","original":{"line":39,"column":22},"generated":{"line":1,"column":844}},{"source":"controller.js","name":"newText","original":{"line":39,"column":24},"generated":{"line":1,"column":846}},{"source":"controller.js","name":"result","original":{"line":40,"column":8},"generated":{"line":1,"column":849}},{"source":"controller.js","name":"result","original":{"line":40,"column":8},"generated":{"line":1,"column":852}},{"source":"controller.js","name":"has_results","original":{"line":40,"column":15},"generated":{"line":1,"column":854}},{"source":"controller.js","original":{"line":40,"column":28},"generated":{"line":1,"column":866}},{"source":"controller.js","name":"labelObject","original":{"line":43,"column":6},"generated":{"line":1,"column":867}},{"source":"controller.js","name":"first","original":{"line":43,"column":18},"generated":{"line":1,"column":869}},{"source":"controller.js","name":"attr","original":{"line":43,"column":26},"generated":{"line":1,"column":877}},{"source":"controller.js","original":{"line":43,"column":31},"generated":{"line":1,"column":882}},{"source":"controller.js","original":{"line":43,"column":37},"generated":{"line":1,"column":887}},{"source":"controller.js","name":"tooltipHTML","original":{"line":44,"column":10},"generated":{"line":1,"column":901}},{"source":"controller.js","name":"tooltipHTML","original":{"line":44,"column":10},"generated":{"line":1,"column":905}},{"source":"controller.js","original":{"line":44,"column":24},"generated":{"line":1,"column":907}},{"source":"controller.js","name":"result","original":{"line":56,"column":10},"generated":{"line":1,"column":984}},{"source":"controller.js","name":"tooltipHTML","original":{"line":49,"column":6},"generated":{"line":1,"column":987}},{"source":"controller.js","original":{"line":49,"column":21},"generated":{"line":1,"column":990}},{"source":"controller.js","name":"Number","original":{"line":50,"column":8},"generated":{"line":1,"column":1097}},{"source":"controller.js","name":"parseFloat","original":{"line":50,"column":15},"generated":{"line":1,"column":1104}},{"source":"controller.js","name":"score","original":{"line":46,"column":36},"generated":{"line":1,"column":1116}},{"source":"controller.js","name":"result","original":{"line":50,"column":41},"generated":{"line":1,"column":1118}},{"source":"controller.js","name":"score","original":{"line":50,"column":48},"generated":{"line":1,"column":1120}},{"source":"controller.js","original":{"line":47,"column":24},"generated":{"line":1,"column":1126}},{"source":"controller.js","name":"score","original":{"line":47,"column":16},"generated":{"line":1,"column":1128}},{"source":"controller.js","name":"toFixed","original":{"line":50,"column":56},"generated":{"line":1,"column":1132}},{"source":"controller.js","original":{"line":50,"column":64},"generated":{"line":1,"column":1140}},{"source":"controller.js","name":"tooltipHTML","original":{"line":53,"column":6},"generated":{"line":1,"column":1143}},{"source":"controller.js","original":{"line":53,"column":21},"generated":{"line":1,"column":1146}},{"source":"controller.js","name":"result","original":{"line":56,"column":10},"generated":{"line":1,"column":1158}},{"source":"controller.js","name":"data_quality","original":{"line":56,"column":17},"generated":{"line":1,"column":1160}},{"source":"controller.js","original":{"line":56,"column":33},"generated":{"line":1,"column":1174}},{"source":"controller.js","original":{"line":56,"column":36},"generated":{"line":1,"column":1176}},{"source":"controller.js","name":"tooltipHTML","original":{"line":63,"column":8},"generated":{"line":1,"column":1177}},{"source":"controller.js","original":{"line":63,"column":23},"generated":{"line":1,"column":1180}},{"source":"controller.js","original":{"line":57,"column":27},"generated":{"line":1,"column":1236}},{"source":"controller.js","original":{"line":58,"column":13},"generated":{"line":1,"column":1237}},{"source":"controller.js","original":{"line":58,"column":13},"generated":{"line":1,"column":1239}},{"source":"controller.js","original":{"line":59,"column":13},"generated":{"line":1,"column":1249}},{"source":"controller.js","original":{"line":59,"column":13},"generated":{"line":1,"column":1251}},{"source":"controller.js","original":{"line":60,"column":13},"generated":{"line":1,"column":1258}},{"source":"controller.js","original":{"line":60,"column":13},"generated":{"line":1,"column":1260}},{"source":"controller.js","original":{"line":61,"column":13},"generated":{"line":1,"column":1267}},{"source":"controller.js","original":{"line":61,"column":13},"generated":{"line":1,"column":1269}},{"source":"controller.js","name":"Math","original":{"line":64,"column":23},"generated":{"line":1,"column":1279}},{"source":"controller.js","name":"round","original":{"line":64,"column":28},"generated":{"line":1,"column":1284}},{"source":"controller.js","name":"result","original":{"line":64,"column":34},"generated":{"line":1,"column":1290}},{"source":"controller.js","name":"data_quality","original":{"line":64,"column":41},"generated":{"line":1,"column":1292}},{"source":"controller.js","original":{"line":65,"column":10},"generated":{"line":1,"column":1307}},{"source":"controller.js","name":"tooltipHTML","original":{"line":69,"column":6},"generated":{"line":1,"column":1333}},{"source":"controller.js","original":{"line":69,"column":21},"generated":{"line":1,"column":1336}},{"source":"controller.js","name":"tooltipHTML","original":{"line":70,"column":6},"generated":{"line":1,"column":1506}},{"source":"controller.js","original":{"line":70,"column":21},"generated":{"line":1,"column":1509}},{"source":"controller.js","name":"labelObject","original":{"line":73,"column":6},"generated":{"line":1,"column":1545}},{"source":"controller.js","name":"append","original":{"line":73,"column":18},"generated":{"line":1,"column":1547}},{"source":"controller.js","name":"tooltipHTML","original":{"line":73,"column":25},"generated":{"line":1,"column":1554}},{"source":"controller.js","name":"completeText","original":{"line":80,"column":8},"generated":{"line":1,"column":1557}},{"source":"controller.js","name":"completeText","original":{"line":80,"column":8},"generated":{"line":1,"column":1561}},{"source":"controller.js","name":"$","original":{"line":80,"column":23},"generated":{"line":1,"column":1563}},{"source":"controller.js","original":{"line":80,"column":25},"generated":{"line":1,"column":1565}},{"source":"controller.js","name":"text","original":{"line":80,"column":42},"generated":{"line":1,"column":1582}},{"source":"controller.js","name":"labelObject","original":{"line":80,"column":51},"generated":{"line":1,"column":1589}},{"source":"controller.js","name":"prop","original":{"line":80,"column":63},"generated":{"line":1,"column":1591}},{"source":"controller.js","original":{"line":80,"column":68},"generated":{"line":1,"column":1596}},{"source":"controller.js","name":"$","original":{"line":81,"column":4},"generated":{"line":1,"column":1609}},{"source":"controller.js","original":{"line":81,"column":6},"generated":{"line":1,"column":1611}},{"source":"controller.js","name":"html","original":{"line":81,"column":23},"generated":{"line":1,"column":1628}},{"source":"controller.js","name":"completeText","original":{"line":81,"column":28},"generated":{"line":1,"column":1633}},{"source":"controller.js","name":"$","original":{"line":82,"column":4},"generated":{"line":1,"column":1636}},{"source":"controller.js","original":{"line":82,"column":6},"generated":{"line":1,"column":1638}},{"source":"controller.js","name":"css","original":{"line":82,"column":28},"generated":{"line":1,"column":1660}},{"source":"controller.js","original":{"line":82,"column":32},"generated":{"line":1,"column":1664}},{"source":"controller.js","original":{"line":83,"column":18},"generated":{"line":1,"column":1665}},{"source":"controller.js","original":{"line":83,"column":18},"generated":{"line":1,"column":1674}},{"source":"controller.js","original":{"line":84,"column":23},"generated":{"line":1,"column":1684}},{"source":"controller.js","original":{"line":84,"column":23},"generated":{"line":1,"column":1700}},{"source":"controller.js","name":"$","original":{"line":86,"column":4},"generated":{"line":1,"column":1709}},{"source":"controller.js","original":{"line":86,"column":6},"generated":{"line":1,"column":1711}},{"source":"controller.js","name":"$","original":{"line":87,"column":6},"generated":{"line":1,"column":1722}},{"source":"controller.js","original":{"line":87,"column":8},"generated":{"line":1,"column":1724}},{"source":"controller.js","name":"html","original":{"line":87,"column":25},"generated":{"line":1,"column":1741}},{"source":"controller.js","name":"completeText","original":{"line":87,"column":30},"generated":{"line":1,"column":1746}},{"source":"controller.js","name":"$","original":{"line":88,"column":6},"generated":{"line":1,"column":1749}},{"source":"controller.js","original":{"line":88,"column":8},"generated":{"line":1,"column":1751}},{"source":"controller.js","name":"css","original":{"line":88,"column":30},"generated":{"line":1,"column":1773}},{"source":"controller.js","original":{"line":88,"column":34},"generated":{"line":1,"column":1777}},{"source":"controller.js","original":{"line":89,"column":20},"generated":{"line":1,"column":1778}},{"source":"controller.js","original":{"line":89,"column":20},"generated":{"line":1,"column":1787}},{"source":"controller.js","original":{"line":90,"column":25},"generated":{"line":1,"column":1797}},{"source":"controller.js","original":{"line":90,"column":25},"generated":{"line":1,"column":1813}},{"source":"controller.js","name":"result","original":{"line":104,"column":9},"generated":{"line":1,"column":1827}},{"source":"controller.js","name":"JSON","original":{"line":101,"column":12},"generated":{"line":1,"column":1834}},{"source":"controller.js","name":"parse","original":{"line":101,"column":17},"generated":{"line":1,"column":1839}},{"source":"controller.js","original":{"line":100,"column":12},"generated":{"line":1,"column":1845}},{"source":"controller.js","name":"rating","original":{"line":103,"column":19},"generated":{"line":1,"column":1862}},{"source":"controller.js","original":{"line":106,"column":0},"generated":{"line":1,"column":1869}},{"source":"controller.js","name":"MY_SELECTOR","original":{"line":106,"column":4},"generated":{"line":1,"column":1873}},{"source":"controller.js","original":{"line":106,"column":18},"generated":{"line":1,"column":1875}},{"source":"controller.js","name":"observer","original":{"line":107,"column":4},"generated":{"line":1,"column":1890}},{"source":"controller.js","original":{"line":107,"column":15},"generated":{"line":1,"column":1892}},{"source":"controller.js","name":"MutationObserver","original":{"line":107,"column":19},"generated":{"line":1,"column":1896}},{"source":"controller.js","original":{"line":107,"column":36},"generated":{"line":1,"column":1913}},{"source":"controller.js","name":"mutations","original":{"line":107,"column":45},"generated":{"line":1,"column":1922}},{"source":"controller.js","original":{"line":108,"column":7},"generated":{"line":1,"column":1925}},{"source":"controller.js","original":{"line":108,"column":7},"generated":{"line":1,"column":1929}},{"source":"controller.js","name":"i","original":{"line":108,"column":11},"generated":{"line":1,"column":1933}},{"source":"controller.js","original":{"line":108,"column":15},"generated":{"line":1,"column":1935}},{"source":"controller.js","name":"i","original":{"line":108,"column":18},"generated":{"line":1,"column":1937}},{"source":"controller.js","name":"mutations","original":{"line":108,"column":22},"generated":{"line":1,"column":1939}},{"source":"controller.js","name":"length","original":{"line":108,"column":32},"generated":{"line":1,"column":1941}},{"source":"controller.js","name":"i","original":{"line":108,"column":40},"generated":{"line":1,"column":1948}},{"source":"controller.js","original":{"line":109,"column":9},"generated":{"line":1,"column":1952}},{"source":"controller.js","original":{"line":109,"column":9},"generated":{"line":1,"column":1956}},{"source":"controller.js","name":"j","original":{"line":109,"column":13},"generated":{"line":1,"column":1960}},{"source":"controller.js","original":{"line":109,"column":17},"generated":{"line":1,"column":1962}},{"source":"controller.js","name":"j","original":{"line":109,"column":20},"generated":{"line":1,"column":1964}},{"source":"controller.js","name":"mutations","original":{"line":109,"column":24},"generated":{"line":1,"column":1966}},{"source":"controller.js","name":"i","original":{"line":109,"column":34},"generated":{"line":1,"column":1968}},{"source":"controller.js","name":"addedNodes","original":{"line":109,"column":37},"generated":{"line":1,"column":1971}},{"source":"controller.js","name":"length","original":{"line":109,"column":48},"generated":{"line":1,"column":1982}},{"source":"controller.js","name":"j","original":{"line":109,"column":56},"generated":{"line":1,"column":1989}},{"source":"controller.js","original":{"line":109,"column":61},"generated":{"line":1,"column":1993}},{"source":"controller.js","name":"node","original":{"line":112,"column":10},"generated":{"line":1,"column":1994}},{"source":"controller.js","name":"node","original":{"line":112,"column":10},"generated":{"line":1,"column":1998}},{"source":"controller.js","name":"mutations","original":{"line":112,"column":17},"generated":{"line":1,"column":2000}},{"source":"controller.js","name":"i","original":{"line":112,"column":27},"generated":{"line":1,"column":2002}},{"source":"controller.js","name":"addedNodes","original":{"line":112,"column":30},"generated":{"line":1,"column":2005}},{"source":"controller.js","name":"j","original":{"line":112,"column":41},"generated":{"line":1,"column":2016}},{"source":"controller.js","name":"node","original":{"line":114,"column":11},"generated":{"line":1,"column":2019}},{"source":"controller.js","name":"node","original":{"line":114,"column":11},"generated":{"line":1,"column":2022}},{"source":"controller.js","name":"nodeType","original":{"line":114,"column":16},"generated":{"line":1,"column":2024}},{"source":"controller.js","name":"Node","original":{"line":114,"column":28},"generated":{"line":1,"column":2034}},{"source":"controller.js","name":"ELEMENT_NODE","original":{"line":114,"column":33},"generated":{"line":1,"column":2039}},{"source":"controller.js","name":"node","original":{"line":115,"column":9},"generated":{"line":1,"column":2053}},{"source":"controller.js","name":"id","original":{"line":115,"column":14},"generated":{"line":1,"column":2055}},{"source":"controller.js","name":"MY_SELECTOR","original":{"line":115,"column":20},"generated":{"line":1,"column":2059}},{"source":"controller.js","original":{"line":115,"column":34},"generated":{"line":1,"column":2061}},{"source":"controller.js","name":"searchTerm","original":{"line":118,"column":12},"generated":{"line":1,"column":2062}},{"source":"controller.js","name":"searchTerm","original":{"line":118,"column":12},"generated":{"line":1,"column":2066}},{"source":"controller.js","original":{"line":118,"column":25},"generated":{"line":1,"column":2068}},{"source":"controller.js","name":"searchTerm","original":{"line":121,"column":8},"generated":{"line":1,"column":2094}},{"source":"controller.js","name":"searchTerm","original":{"line":119,"column":8},"generated":{"line":1,"column":2097}},{"source":"controller.js","name":"$","original":{"line":119,"column":21},"generated":{"line":1,"column":2099}},{"source":"controller.js","original":{"line":119,"column":23},"generated":{"line":1,"column":2101}},{"source":"controller.js","name":"text","original":{"line":119,"column":40},"generated":{"line":1,"column":2118}},{"source":"controller.js","name":"trim","original":{"line":121,"column":32},"generated":{"line":1,"column":2126}},{"source":"controller.js","name":"chrome","original":{"line":122,"column":8},"generated":{"line":1,"column":2133}},{"source":"controller.js","name":"storage","original":{"line":122,"column":15},"generated":{"line":1,"column":2140}},{"source":"controller.js","name":"sync","original":{"line":122,"column":23},"generated":{"line":1,"column":2148}},{"source":"controller.js","name":"get","original":{"line":122,"column":28},"generated":{"line":1,"column":2153}},{"source":"controller.js","original":{"line":122,"column":32},"generated":{"line":1,"column":2157}},{"source":"controller.js","name":"betaMode","original":{"line":123,"column":10},"generated":{"line":1,"column":2158}},{"source":"controller.js","original":{"line":123,"column":20},"generated":{"line":1,"column":2168}},{"source":"controller.js","name":"toSort","original":{"line":124,"column":10},"generated":{"line":1,"column":2170}},{"source":"controller.js","original":{"line":124,"column":18},"generated":{"line":1,"column":2178}},{"source":"controller.js","original":{"line":125,"column":11},"generated":{"line":1,"column":2181}},{"source":"controller.js","name":"items","original":{"line":125,"column":20},"generated":{"line":1,"column":2190}},{"source":"controller.js","name":"getResultsFromAPI","original":{"line":127,"column":10},"generated":{"line":1,"column":2193}},{"source":"controller.js","name":"searchTerm","original":{"line":127,"column":28},"generated":{"line":1,"column":2195}},{"source":"controller.js","name":"items","original":{"line":127,"column":40},"generated":{"line":1,"column":2197}},{"source":"controller.js","name":"betaMode","original":{"line":127,"column":46},"generated":{"line":1,"column":2199}},{"source":"controller.js","name":"observer","original":{"line":132,"column":8},"generated":{"line":1,"column":2211}},{"source":"controller.js","name":"disconnect","original":{"line":132,"column":17},"generated":{"line":1,"column":2213}},{"source":"controller.js","name":"observer","original":{"line":138,"column":0},"generated":{"line":1,"column":2230}},{"source":"controller.js","name":"observe","original":{"line":138,"column":9},"generated":{"line":1,"column":2232}},{"source":"controller.js","name":"document","original":{"line":138,"column":17},"generated":{"line":1,"column":2240}},{"source":"controller.js","name":"documentElement","original":{"line":138,"column":26},"generated":{"line":1,"column":2249}},{"source":"controller.js","original":{"line":138,"column":43},"generated":{"line":1,"column":2265}},{"source":"controller.js","name":"childList","original":{"line":139,"column":2},"generated":{"line":1,"column":2266}},{"source":"controller.js","original":{"line":139,"column":13},"generated":{"line":1,"column":2277}},{"source":"controller.js","name":"subtree","original":{"line":140,"column":2},"generated":{"line":1,"column":2279}},{"source":"controller.js","original":{"line":140,"column":11},"generated":{"line":1,"column":2288}}],"sources":{"controller.js":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nfunction getResultsFromAPI(searchTerm, betaMode) {\n  //Note: Call to backend service here\n\n  var regex = RegExp(\"^(http[s]?://)?([\\\\w.-]+)(:[0-9]+)?/([\\\\w-%]+/)?(dp|gp/product|exec/obidos/asin)/(\\\\w+/)?(\\\\w{10})(.*)?$\");\n  var m = window.location.href.match(regex);\n\n  var encodedSearchTerm = encodeURIComponent(searchTerm);\n\n  var serverUrl = \"https://sheltered-mountain-69586.herokuapp.com/GetProductClass?name=\" + encodedSearchTerm + \"&mode=\" + betaMode;\n  if (m!= null && m!=undefined && m.length > 7) {\n    serverUrl += \"&asin=\" + m[7];\n  }\n  $.get(serverUrl, function(data, status) {\n    console.log(data);\n    var result = JSON.parse(data);\n    var newText = \"\";\n\n    var productGreenRating = result.classification;\n    if (!betaMode && productGreenRating != 0) { //disable most features on beta mode\n      return;\n    }\n    if (result.has_results == false || (result.data_quality != 0 && result.data_quality < 2)) {\n      return; //TODO:  A/B Test??\n      var newText = \"<span class=\\\"no_data_available\\\">**We do not have enough data to give a green score.</span> \";\n\n    } else if (productGreenRating == 0)\n      newText = \"  <span style='color:green'> Eco Friendly </span> \";\n    else if (productGreenRating == 1)\n      newText = \"   <span style='color:red'> Not Eco Friendly </span>\";\n    else if (productGreenRating == 2)\n      newText = \"    <span style='color:blue'> Neutral </span> \";\n    else\n      newText = \"API return value is not valid in myscript.js\";\n    var labelObject = $(newText);\n    if (result.has_results) {\n\n      //5 star scale rating\n      labelObject.first().attr('id', 't_el_label');\n      var tooltipHTML = \"<i class=\\\"material-icons icon-colors\\\">info</i> <span class=\\\"tooltiptext\\\"> \";\n\n      var calculateScore = function(score) {\n        return (score * 5);\n      };\n      tooltipHTML += \"On a 5 star greenness rating scale, our sources give the product a of <span class=\\\"tooltiptextemphasis\\\">\" +\n        Number.parseFloat(calculateScore(result.score)).toFixed(1);\n\n\n      tooltipHTML += \"</span>. \";\n\n      //data quality\n      if (result.data_quality >= 2) {\n        var dQratingsMap = {\n          2: 'Limited',\n          3: 'Fair',\n          4: 'Good',\n          5: 'Robust'\n        };\n        tooltipHTML += \"<br> <br> Based on <span class=\\\"tooltiptextemphasis\\\">\" +\n          dQratingsMap[Math.round(result.data_quality)] +\n          \"</span> amount of data.\";\n\n\n      }\n      tooltipHTML += \"<br><br> <a  target=\\\"_blank\\\" style=\\\"font-style: italic;\\\" href=\\\"https://3elephants.github.io/website/description.html\\\">See More Information on How We Rate Products</a> \"\n      tooltipHTML += \"</span><div id=\\\"sampleDiv\\\"></div>\"\n\n\n      labelObject.append(tooltipHTML);\n      // ReactDOM.render(<App />, document.getElementById('sampleDiv'));\n\n    }\n\n\n\n    var completeText = $(\"#productTitle\").text() + labelObject.prop('outerHTML');\n    $(\"#productTitle\").html(completeText);\n    $(\"#title_feature_div\").css({\n      \"overflow\": \"visible\",\n      \"margin-bottom\": \"50px\"\n    });\n    $(function() { //incase the rest of the webpage lags and invalidates the css\n      $(\"#productTitle\").html(completeText);\n      $(\"#title_feature_div\").css({\n        \"overflow\": \"visible\",\n        \"margin-bottom\": \"50px\"\n      });\n\n    });\n\n\n\n\n  });\n\n  var txt = '{\"rating\": 0}';\n  var obj = JSON.parse(txt);\n\n  var result = obj.rating;\n  return result;\n}\nvar MY_SELECTOR = \"productTitle\"; // Could be any selector\nvar observer = new MutationObserver(function(mutations) {\n  for (var i = 0; i < mutations.length; i++) {\n    for (var j = 0; j < mutations[i].addedNodes.length; j++) {\n      // We're iterating through _all_ the elements as the parser parses them,\n      // deciding if they're the one we're looking for.\n      var node = mutations[i].addedNodes[j];\n\n      if ((node.nodeType == Node.ELEMENT_NODE) &&\n        (node.id == MY_SELECTOR)) {\n\n\n        var searchTerm = \"Soap for Goodness Sakes\";\n        searchTerm = $(\"#productTitle\").text();\n\n        searchTerm = searchTerm.trim();\n        chrome.storage.sync.get({\n          betaMode: true,\n          toSort: true\n        }, function(items) {\n\n          getResultsFromAPI(searchTerm, items.betaMode); //probably url encode product info\n\n        });\n\n        // We found our element, we're done:\n        observer.disconnect();\n      };\n    }\n  }\n});\n\nobserver.observe(document.documentElement, {\n  childList: true,\n  subtree: true\n});\n\n\n//\n// Part 2: Give the product design description to the Flask server\n// *Please note that the product description's entire HTML is being retrieved, not just keywords.\n// So the algorithm has to be designed in a way that this will not dilute the score.\n// var productDescription = \"This is just a product description\";\n// productDescription = $(\"#a-section launchpad-text-left-justify\").html();\n//\n// No trimming necessary because of how jQuery html method works\n// realProductDescription = productDescription;\n// console.log(realProductDescription);\n// giveAPITheProductDescription(realProductDescription);\n//\n//\n// Part 3: Get the Customer question and answers\n// var allAnswers = \"This is going to be an array of customer answers\";\n// var allText = \"This is the allText variable\";\n// allAnswers = $(\"#allAnswers\").each(function(index) {\n//   console.log(index + \": \" + $(this).text());\n//   allText = allText + \" \" + $(this).text();\n// });\n//\n// console.log(\"Part 3 is almost done\");\n// // giveAPITheCustomerAnswers(allText);\n// console.log(\"Part 3 is now done\");\n"},"lineCount":null}},"hash":"95dbf1a90b26b1b8958d7d65411e48c6","cacheData":{"env":{}}}