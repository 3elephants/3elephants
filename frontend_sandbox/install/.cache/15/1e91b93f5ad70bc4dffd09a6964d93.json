{"id":"69ni","dependencies":[{"name":"/Users/adityaaggarwal/Documents/2019/3elephants/react-sandbox/package.json","includedInParent":true,"mtime":1551751657855},{"name":"react","loc":{"line":1,"column":18},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/react-sandbox/src/controller.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/react-sandbox/node_modules/preact-compat/dist/preact-compat.es.js"},{"name":"react-dom","loc":{"line":2,"column":21},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/react-sandbox/src/controller.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/react-sandbox/node_modules/preact-compat/dist/preact-compat.es.js"},{"name":"./App","loc":{"line":3,"column":16},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/react-sandbox/src/controller.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/react-sandbox/src/App.js"}],"generated":{"js":"\"use strict\";var e=o(require(\"react\")),t=o(require(\"react-dom\")),a=o(require(\"./App\"));function o(e){return e&&e.__esModule?e:{default:e}}function r(o,r){var s=RegExp(\"^(http[s]?://)?([\\\\w.-]+)(:[0-9]+)?/([\\\\w-%]+/)?(dp|gp/product|exec/obidos/asin)/(\\\\w+/)?(\\\\w{10})(.*)?$\"),n=window.location.href.match(s),i=\"https://sheltered-mountain-69586.herokuapp.com/GetProductClass?name=\"+encodeURIComponent(o)+\"&mode=\"+r;null!=n&&null!=n&&n.length>7&&(i+=\"&asin=\"+n[7]),$.get(i,function(o,s){console.log(o);var n=JSON.parse(o),i=\"\",l=n.classification;if((r||0==l)&&!(0==n.has_results||0!=n.data_quality&&n.data_quality<2)){i=0==l?\"  <span style='color:green'> Eco Friendly </span> \":1==l?\"   <span style='color:red'> Not Eco Friendly <span id=\\\"sampleDiv\\\"></span> </span>\":2==l?\"    <span style='color:blue'> Neutral </span> \":\"API return value is not valid in myscript.js\";var d,u=$(i);if(n.has_results){u.first().attr(\"id\",\"t_el_label\");var c='<i class=\"material-icons icon-colors\">info</i> <span class=\"tooltiptext\"> ';if(c+='On a 5 star greenness rating scale, our sources give the product a of <span class=\"tooltiptextemphasis\">'+Number.parseFloat((d=n.score,5*d)).toFixed(1),c+=\"</span>. \",n.data_quality>=2){c+='<br> <br> Based on <span class=\"tooltiptextemphasis\">'+{2:\"Limited\",3:\"Fair\",4:\"Good\",5:\"Robust\"}[Math.round(n.data_quality)]+\"</span> amount of data.\"}c+='<br><br> <a  target=\"_blank\" style=\"font-style: italic;\" href=\"https://3elephants.github.io/website/description.html\">See More Information on How We Rate Products</a> ',c+=\"</span>\",u.append(c)}var p=$(\"#productTitle\").text()+u.prop(\"outerHTML\");$(\"#productTitle\").html(p),$(\"#title_feature_div\").css({overflow:\"visible\",\"margin-bottom\":\"50px\"}),t.default.render(e.default.createElement(a.default,null),document.getElementById(\"sampleDiv\")),$(function(){$(\"#productTitle\").html(p),$(\"#title_feature_div\").css({overflow:\"visible\",\"margin-bottom\":\"50px\"}),t.default.render(e.default.createElement(a.default,null),document.getElementById(\"sampleDiv\"))})}});return JSON.parse('{\"rating\": 0}').rating}var s=\"productTitle\",n=new MutationObserver(function(e){for(var t=0;t<e.length;t++)for(var a=0;a<e[t].addedNodes.length;a++){var o=e[t].addedNodes[a];if(o.nodeType==Node.ELEMENT_NODE&&o.id==s){var i=\"Soap for Goodness Sakes\";i=(i=$(\"#productTitle\").text()).trim(),chrome.storage.sync.get({betaMode:!0,toSort:!0},function(e){r(i,e.betaMode)}),n.disconnect()}}});n.observe(document.documentElement,{childList:!0,subtree:!0});","map":{"mappings":[{"source":"controller.js","original":{"line":170,"column":0},"generated":{"line":1,"column":0}},{"source":"controller.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"controller.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"controller.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"controller.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"controller.js","original":{"line":1,"column":0},"generated":{"line":1,"column":29}},{"source":"controller.js","original":{"line":2,"column":0},"generated":{"line":1,"column":39}},{"source":"controller.js","original":{"line":2,"column":0},"generated":{"line":1,"column":41}},{"source":"controller.js","original":{"line":2,"column":0},"generated":{"line":1,"column":43}},{"source":"controller.js","original":{"line":2,"column":0},"generated":{"line":1,"column":51}},{"source":"controller.js","original":{"line":3,"column":0},"generated":{"line":1,"column":65}},{"source":"controller.js","original":{"line":3,"column":0},"generated":{"line":1,"column":67}},{"source":"controller.js","original":{"line":3,"column":0},"generated":{"line":1,"column":69}},{"source":"controller.js","original":{"line":3,"column":0},"generated":{"line":1,"column":77}},{"source":"controller.js","original":{"line":170,"column":0},"generated":{"line":1,"column":87}},{"source":"controller.js","original":{"line":170,"column":0},"generated":{"line":1,"column":96}},{"source":"controller.js","original":{"line":170,"column":0},"generated":{"line":1,"column":98}},{"source":"controller.js","original":{"line":170,"column":0},"generated":{"line":1,"column":101}},{"source":"controller.js","original":{"line":170,"column":0},"generated":{"line":1,"column":108}},{"source":"controller.js","original":{"line":170,"column":0},"generated":{"line":1,"column":111}},{"source":"controller.js","original":{"line":170,"column":0},"generated":{"line":1,"column":113}},{"source":"controller.js","original":{"line":170,"column":0},"generated":{"line":1,"column":124}},{"source":"controller.js","original":{"line":170,"column":0},"generated":{"line":1,"column":126}},{"source":"controller.js","original":{"line":170,"column":0},"generated":{"line":1,"column":127}},{"source":"controller.js","original":{"line":170,"column":0},"generated":{"line":1,"column":135}},{"source":"controller.js","original":{"line":6,"column":0},"generated":{"line":1,"column":138}},{"source":"controller.js","name":"getResultsFromAPI","original":{"line":6,"column":9},"generated":{"line":1,"column":147}},{"source":"controller.js","name":"searchTerm","original":{"line":6,"column":27},"generated":{"line":1,"column":149}},{"source":"controller.js","name":"betaMode","original":{"line":6,"column":39},"generated":{"line":1,"column":151}},{"source":"controller.js","name":"regex","original":{"line":9,"column":6},"generated":{"line":1,"column":154}},{"source":"controller.js","name":"regex","original":{"line":9,"column":6},"generated":{"line":1,"column":158}},{"source":"controller.js","name":"RegExp","original":{"line":9,"column":14},"generated":{"line":1,"column":160}},{"source":"controller.js","original":{"line":9,"column":21},"generated":{"line":1,"column":167}},{"source":"controller.js","name":"m","original":{"line":10,"column":6},"generated":{"line":1,"column":275}},{"source":"controller.js","name":"window","original":{"line":10,"column":10},"generated":{"line":1,"column":277}},{"source":"controller.js","name":"location","original":{"line":10,"column":17},"generated":{"line":1,"column":284}},{"source":"controller.js","name":"href","original":{"line":10,"column":26},"generated":{"line":1,"column":293}},{"source":"controller.js","name":"match","original":{"line":10,"column":31},"generated":{"line":1,"column":298}},{"source":"controller.js","name":"regex","original":{"line":10,"column":37},"generated":{"line":1,"column":304}},{"source":"controller.js","name":"serverUrl","original":{"line":14,"column":6},"generated":{"line":1,"column":307}},{"source":"controller.js","original":{"line":14,"column":18},"generated":{"line":1,"column":309}},{"source":"controller.js","name":"encodeURIComponent","original":{"line":12,"column":26},"generated":{"line":1,"column":380}},{"source":"controller.js","name":"searchTerm","original":{"line":12,"column":45},"generated":{"line":1,"column":399}},{"source":"controller.js","original":{"line":14,"column":111},"generated":{"line":1,"column":402}},{"source":"controller.js","name":"betaMode","original":{"line":14,"column":122},"generated":{"line":1,"column":411}},{"source":"controller.js","original":{"line":15,"column":10},"generated":{"line":1,"column":413}},{"source":"controller.js","name":"m","original":{"line":15,"column":6},"generated":{"line":1,"column":419}},{"source":"controller.js","name":"undefined","original":{"line":15,"column":21},"generated":{"line":1,"column":422}},{"source":"controller.js","name":"m","original":{"line":15,"column":18},"generated":{"line":1,"column":428}},{"source":"controller.js","name":"m","original":{"line":15,"column":34},"generated":{"line":1,"column":431}},{"source":"controller.js","name":"length","original":{"line":15,"column":36},"generated":{"line":1,"column":433}},{"source":"controller.js","original":{"line":15,"column":45},"generated":{"line":1,"column":440}},{"source":"controller.js","name":"serverUrl","original":{"line":16,"column":4},"generated":{"line":1,"column":444}},{"source":"controller.js","original":{"line":16,"column":17},"generated":{"line":1,"column":447}},{"source":"controller.js","name":"m","original":{"line":16,"column":28},"generated":{"line":1,"column":456}},{"source":"controller.js","original":{"line":16,"column":30},"generated":{"line":1,"column":458}},{"source":"controller.js","name":"$","original":{"line":18,"column":2},"generated":{"line":1,"column":462}},{"source":"controller.js","name":"get","original":{"line":18,"column":4},"generated":{"line":1,"column":464}},{"source":"controller.js","name":"serverUrl","original":{"line":18,"column":8},"generated":{"line":1,"column":468}},{"source":"controller.js","original":{"line":18,"column":19},"generated":{"line":1,"column":470}},{"source":"controller.js","name":"data","original":{"line":18,"column":28},"generated":{"line":1,"column":479}},{"source":"controller.js","name":"status","original":{"line":18,"column":34},"generated":{"line":1,"column":481}},{"source":"controller.js","name":"console","original":{"line":19,"column":4},"generated":{"line":1,"column":484}},{"source":"controller.js","name":"log","original":{"line":19,"column":12},"generated":{"line":1,"column":492}},{"source":"controller.js","name":"data","original":{"line":19,"column":16},"generated":{"line":1,"column":496}},{"source":"controller.js","name":"result","original":{"line":20,"column":8},"generated":{"line":1,"column":499}},{"source":"controller.js","name":"result","original":{"line":20,"column":8},"generated":{"line":1,"column":503}},{"source":"controller.js","name":"JSON","original":{"line":20,"column":17},"generated":{"line":1,"column":505}},{"source":"controller.js","name":"parse","original":{"line":20,"column":22},"generated":{"line":1,"column":510}},{"source":"controller.js","name":"data","original":{"line":20,"column":28},"generated":{"line":1,"column":516}},{"source":"controller.js","name":"newText","original":{"line":21,"column":8},"generated":{"line":1,"column":519}},{"source":"controller.js","original":{"line":21,"column":18},"generated":{"line":1,"column":521}},{"source":"controller.js","name":"productGreenRating","original":{"line":23,"column":8},"generated":{"line":1,"column":524}},{"source":"controller.js","name":"result","original":{"line":23,"column":29},"generated":{"line":1,"column":526}},{"source":"controller.js","name":"classification","original":{"line":23,"column":36},"generated":{"line":1,"column":528}},{"source":"controller.js","original":{"line":24,"column":8},"generated":{"line":1,"column":543}},{"source":"controller.js","name":"betaMode","original":{"line":24,"column":9},"generated":{"line":1,"column":547}},{"source":"controller.js","original":{"line":24,"column":43},"generated":{"line":1,"column":550}},{"source":"controller.js","name":"productGreenRating","original":{"line":24,"column":21},"generated":{"line":1,"column":553}},{"source":"controller.js","original":{"line":27,"column":30},"generated":{"line":1,"column":559}},{"source":"controller.js","name":"result","original":{"line":27,"column":8},"generated":{"line":1,"column":562}},{"source":"controller.js","name":"has_results","original":{"line":27,"column":15},"generated":{"line":1,"column":564}},{"source":"controller.js","original":{"line":27,"column":63},"generated":{"line":1,"column":577}},{"source":"controller.js","name":"result","original":{"line":27,"column":40},"generated":{"line":1,"column":580}},{"source":"controller.js","name":"data_quality","original":{"line":27,"column":47},"generated":{"line":1,"column":582}},{"source":"controller.js","name":"result","original":{"line":27,"column":68},"generated":{"line":1,"column":596}},{"source":"controller.js","name":"data_quality","original":{"line":27,"column":75},"generated":{"line":1,"column":598}},{"source":"controller.js","original":{"line":27,"column":90},"generated":{"line":1,"column":611}},{"source":"controller.js","name":"result","original":{"line":27,"column":8},"generated":{"line":1,"column":614}},{"source":"controller.js","name":"newText","original":{"line":31,"column":6},"generated":{"line":1,"column":615}},{"source":"controller.js","original":{"line":30,"column":37},"generated":{"line":1,"column":617}},{"source":"controller.js","name":"productGreenRating","original":{"line":30,"column":15},"generated":{"line":1,"column":620}},{"source":"controller.js","original":{"line":31,"column":16},"generated":{"line":1,"column":622}},{"source":"controller.js","original":{"line":32,"column":35},"generated":{"line":1,"column":675}},{"source":"controller.js","name":"productGreenRating","original":{"line":32,"column":13},"generated":{"line":1,"column":678}},{"source":"controller.js","original":{"line":33,"column":16},"generated":{"line":1,"column":680}},{"source":"controller.js","original":{"line":34,"column":35},"generated":{"line":1,"column":766}},{"source":"controller.js","name":"productGreenRating","original":{"line":34,"column":13},"generated":{"line":1,"column":769}},{"source":"controller.js","original":{"line":35,"column":16},"generated":{"line":1,"column":771}},{"source":"controller.js","original":{"line":37,"column":16},"generated":{"line":1,"column":820}},{"source":"controller.js","name":"labelObject","original":{"line":40,"column":8},"generated":{"line":1,"column":867}},{"source":"controller.js","name":"score","original":{"line":47,"column":36},"generated":{"line":1,"column":871}},{"source":"controller.js","name":"labelObject","original":{"line":40,"column":8},"generated":{"line":1,"column":873}},{"source":"controller.js","name":"$","original":{"line":40,"column":22},"generated":{"line":1,"column":875}},{"source":"controller.js","name":"newText","original":{"line":40,"column":24},"generated":{"line":1,"column":877}},{"source":"controller.js","name":"result","original":{"line":41,"column":8},"generated":{"line":1,"column":880}},{"source":"controller.js","name":"result","original":{"line":41,"column":8},"generated":{"line":1,"column":883}},{"source":"controller.js","name":"has_results","original":{"line":41,"column":15},"generated":{"line":1,"column":885}},{"source":"controller.js","original":{"line":41,"column":28},"generated":{"line":1,"column":897}},{"source":"controller.js","name":"labelObject","original":{"line":44,"column":6},"generated":{"line":1,"column":898}},{"source":"controller.js","name":"first","original":{"line":44,"column":18},"generated":{"line":1,"column":900}},{"source":"controller.js","name":"attr","original":{"line":44,"column":26},"generated":{"line":1,"column":908}},{"source":"controller.js","original":{"line":44,"column":31},"generated":{"line":1,"column":913}},{"source":"controller.js","original":{"line":44,"column":37},"generated":{"line":1,"column":918}},{"source":"controller.js","name":"tooltipHTML","original":{"line":45,"column":10},"generated":{"line":1,"column":932}},{"source":"controller.js","name":"tooltipHTML","original":{"line":45,"column":10},"generated":{"line":1,"column":936}},{"source":"controller.js","original":{"line":45,"column":24},"generated":{"line":1,"column":938}},{"source":"controller.js","name":"result","original":{"line":57,"column":10},"generated":{"line":1,"column":1015}},{"source":"controller.js","name":"tooltipHTML","original":{"line":50,"column":6},"generated":{"line":1,"column":1018}},{"source":"controller.js","original":{"line":50,"column":21},"generated":{"line":1,"column":1021}},{"source":"controller.js","name":"Number","original":{"line":51,"column":8},"generated":{"line":1,"column":1128}},{"source":"controller.js","name":"parseFloat","original":{"line":51,"column":15},"generated":{"line":1,"column":1135}},{"source":"controller.js","name":"score","original":{"line":47,"column":36},"generated":{"line":1,"column":1147}},{"source":"controller.js","name":"result","original":{"line":51,"column":41},"generated":{"line":1,"column":1149}},{"source":"controller.js","name":"score","original":{"line":51,"column":48},"generated":{"line":1,"column":1151}},{"source":"controller.js","original":{"line":48,"column":24},"generated":{"line":1,"column":1157}},{"source":"controller.js","name":"score","original":{"line":48,"column":16},"generated":{"line":1,"column":1159}},{"source":"controller.js","name":"toFixed","original":{"line":51,"column":56},"generated":{"line":1,"column":1163}},{"source":"controller.js","original":{"line":51,"column":64},"generated":{"line":1,"column":1171}},{"source":"controller.js","name":"tooltipHTML","original":{"line":54,"column":6},"generated":{"line":1,"column":1174}},{"source":"controller.js","original":{"line":54,"column":21},"generated":{"line":1,"column":1177}},{"source":"controller.js","name":"result","original":{"line":57,"column":10},"generated":{"line":1,"column":1189}},{"source":"controller.js","name":"data_quality","original":{"line":57,"column":17},"generated":{"line":1,"column":1191}},{"source":"controller.js","original":{"line":57,"column":33},"generated":{"line":1,"column":1205}},{"source":"controller.js","original":{"line":57,"column":36},"generated":{"line":1,"column":1207}},{"source":"controller.js","name":"tooltipHTML","original":{"line":64,"column":8},"generated":{"line":1,"column":1208}},{"source":"controller.js","original":{"line":64,"column":23},"generated":{"line":1,"column":1211}},{"source":"controller.js","original":{"line":58,"column":27},"generated":{"line":1,"column":1267}},{"source":"controller.js","original":{"line":59,"column":13},"generated":{"line":1,"column":1268}},{"source":"controller.js","original":{"line":59,"column":13},"generated":{"line":1,"column":1270}},{"source":"controller.js","original":{"line":60,"column":13},"generated":{"line":1,"column":1280}},{"source":"controller.js","original":{"line":60,"column":13},"generated":{"line":1,"column":1282}},{"source":"controller.js","original":{"line":61,"column":13},"generated":{"line":1,"column":1289}},{"source":"controller.js","original":{"line":61,"column":13},"generated":{"line":1,"column":1291}},{"source":"controller.js","original":{"line":62,"column":13},"generated":{"line":1,"column":1298}},{"source":"controller.js","original":{"line":62,"column":13},"generated":{"line":1,"column":1300}},{"source":"controller.js","name":"Math","original":{"line":65,"column":23},"generated":{"line":1,"column":1310}},{"source":"controller.js","name":"round","original":{"line":65,"column":28},"generated":{"line":1,"column":1315}},{"source":"controller.js","name":"result","original":{"line":65,"column":34},"generated":{"line":1,"column":1321}},{"source":"controller.js","name":"data_quality","original":{"line":65,"column":41},"generated":{"line":1,"column":1323}},{"source":"controller.js","original":{"line":66,"column":10},"generated":{"line":1,"column":1338}},{"source":"controller.js","name":"tooltipHTML","original":{"line":70,"column":6},"generated":{"line":1,"column":1364}},{"source":"controller.js","original":{"line":70,"column":21},"generated":{"line":1,"column":1367}},{"source":"controller.js","name":"tooltipHTML","original":{"line":71,"column":6},"generated":{"line":1,"column":1537}},{"source":"controller.js","original":{"line":71,"column":21},"generated":{"line":1,"column":1540}},{"source":"controller.js","name":"labelObject","original":{"line":74,"column":6},"generated":{"line":1,"column":1550}},{"source":"controller.js","name":"append","original":{"line":74,"column":18},"generated":{"line":1,"column":1552}},{"source":"controller.js","name":"tooltipHTML","original":{"line":74,"column":25},"generated":{"line":1,"column":1559}},{"source":"controller.js","name":"completeText","original":{"line":80,"column":8},"generated":{"line":1,"column":1562}},{"source":"controller.js","name":"completeText","original":{"line":80,"column":8},"generated":{"line":1,"column":1566}},{"source":"controller.js","name":"$","original":{"line":80,"column":23},"generated":{"line":1,"column":1568}},{"source":"controller.js","original":{"line":80,"column":25},"generated":{"line":1,"column":1570}},{"source":"controller.js","name":"text","original":{"line":80,"column":42},"generated":{"line":1,"column":1587}},{"source":"controller.js","name":"labelObject","original":{"line":80,"column":51},"generated":{"line":1,"column":1594}},{"source":"controller.js","name":"prop","original":{"line":80,"column":63},"generated":{"line":1,"column":1596}},{"source":"controller.js","original":{"line":80,"column":68},"generated":{"line":1,"column":1601}},{"source":"controller.js","name":"$","original":{"line":81,"column":4},"generated":{"line":1,"column":1614}},{"source":"controller.js","original":{"line":81,"column":6},"generated":{"line":1,"column":1616}},{"source":"controller.js","name":"html","original":{"line":81,"column":23},"generated":{"line":1,"column":1633}},{"source":"controller.js","name":"completeText","original":{"line":81,"column":28},"generated":{"line":1,"column":1638}},{"source":"controller.js","name":"$","original":{"line":82,"column":4},"generated":{"line":1,"column":1641}},{"source":"controller.js","original":{"line":82,"column":6},"generated":{"line":1,"column":1643}},{"source":"controller.js","name":"css","original":{"line":82,"column":28},"generated":{"line":1,"column":1665}},{"source":"controller.js","original":{"line":82,"column":32},"generated":{"line":1,"column":1669}},{"source":"controller.js","original":{"line":83,"column":18},"generated":{"line":1,"column":1670}},{"source":"controller.js","original":{"line":83,"column":18},"generated":{"line":1,"column":1679}},{"source":"controller.js","original":{"line":84,"column":23},"generated":{"line":1,"column":1689}},{"source":"controller.js","original":{"line":84,"column":23},"generated":{"line":1,"column":1705}},{"source":"controller.js","name":"render","original":{"line":87,"column":13},"generated":{"line":1,"column":1714}},{"source":"controller.js","name":"render","original":{"line":87,"column":13},"generated":{"line":1,"column":1716}},{"source":"controller.js","name":"render","original":{"line":87,"column":13},"generated":{"line":1,"column":1724}},{"source":"controller.js","original":{"line":87,"column":20},"generated":{"line":1,"column":1731}},{"source":"controller.js","original":{"line":87,"column":21},"generated":{"line":1,"column":1733}},{"source":"controller.js","original":{"line":87,"column":21},"generated":{"line":1,"column":1741}},{"source":"controller.js","original":{"line":87,"column":21},"generated":{"line":1,"column":1755}},{"source":"controller.js","original":{"line":87,"column":20},"generated":{"line":1,"column":1757}},{"source":"controller.js","original":{"line":87,"column":4},"generated":{"line":1,"column":1765}},{"source":"controller.js","name":"document","original":{"line":87,"column":29},"generated":{"line":1,"column":1771}},{"source":"controller.js","name":"getElementById","original":{"line":87,"column":38},"generated":{"line":1,"column":1780}},{"source":"controller.js","original":{"line":87,"column":53},"generated":{"line":1,"column":1795}},{"source":"controller.js","name":"$","original":{"line":89,"column":4},"generated":{"line":1,"column":1809}},{"source":"controller.js","original":{"line":89,"column":6},"generated":{"line":1,"column":1811}},{"source":"controller.js","name":"$","original":{"line":90,"column":6},"generated":{"line":1,"column":1822}},{"source":"controller.js","original":{"line":90,"column":8},"generated":{"line":1,"column":1824}},{"source":"controller.js","name":"html","original":{"line":90,"column":25},"generated":{"line":1,"column":1841}},{"source":"controller.js","name":"completeText","original":{"line":90,"column":30},"generated":{"line":1,"column":1846}},{"source":"controller.js","name":"$","original":{"line":91,"column":6},"generated":{"line":1,"column":1849}},{"source":"controller.js","original":{"line":91,"column":8},"generated":{"line":1,"column":1851}},{"source":"controller.js","name":"css","original":{"line":91,"column":30},"generated":{"line":1,"column":1873}},{"source":"controller.js","original":{"line":91,"column":34},"generated":{"line":1,"column":1877}},{"source":"controller.js","original":{"line":92,"column":20},"generated":{"line":1,"column":1878}},{"source":"controller.js","original":{"line":92,"column":20},"generated":{"line":1,"column":1887}},{"source":"controller.js","original":{"line":93,"column":25},"generated":{"line":1,"column":1897}},{"source":"controller.js","original":{"line":93,"column":25},"generated":{"line":1,"column":1913}},{"source":"controller.js","name":"render","original":{"line":95,"column":15},"generated":{"line":1,"column":1922}},{"source":"controller.js","name":"render","original":{"line":95,"column":15},"generated":{"line":1,"column":1924}},{"source":"controller.js","name":"render","original":{"line":95,"column":15},"generated":{"line":1,"column":1932}},{"source":"controller.js","original":{"line":95,"column":22},"generated":{"line":1,"column":1939}},{"source":"controller.js","original":{"line":95,"column":23},"generated":{"line":1,"column":1941}},{"source":"controller.js","original":{"line":95,"column":23},"generated":{"line":1,"column":1949}},{"source":"controller.js","original":{"line":95,"column":23},"generated":{"line":1,"column":1963}},{"source":"controller.js","original":{"line":95,"column":22},"generated":{"line":1,"column":1965}},{"source":"controller.js","original":{"line":95,"column":6},"generated":{"line":1,"column":1973}},{"source":"controller.js","name":"document","original":{"line":95,"column":31},"generated":{"line":1,"column":1979}},{"source":"controller.js","name":"getElementById","original":{"line":95,"column":40},"generated":{"line":1,"column":1988}},{"source":"controller.js","original":{"line":95,"column":55},"generated":{"line":1,"column":2003}},{"source":"controller.js","name":"result","original":{"line":107,"column":9},"generated":{"line":1,"column":2022}},{"source":"controller.js","name":"JSON","original":{"line":104,"column":12},"generated":{"line":1,"column":2029}},{"source":"controller.js","name":"parse","original":{"line":104,"column":17},"generated":{"line":1,"column":2034}},{"source":"controller.js","original":{"line":103,"column":12},"generated":{"line":1,"column":2040}},{"source":"controller.js","name":"rating","original":{"line":106,"column":19},"generated":{"line":1,"column":2057}},{"source":"controller.js","original":{"line":109,"column":0},"generated":{"line":1,"column":2064}},{"source":"controller.js","name":"MY_SELECTOR","original":{"line":109,"column":4},"generated":{"line":1,"column":2068}},{"source":"controller.js","original":{"line":109,"column":18},"generated":{"line":1,"column":2070}},{"source":"controller.js","name":"observer","original":{"line":110,"column":4},"generated":{"line":1,"column":2085}},{"source":"controller.js","original":{"line":110,"column":15},"generated":{"line":1,"column":2087}},{"source":"controller.js","name":"MutationObserver","original":{"line":110,"column":19},"generated":{"line":1,"column":2091}},{"source":"controller.js","original":{"line":110,"column":36},"generated":{"line":1,"column":2108}},{"source":"controller.js","name":"mutations","original":{"line":110,"column":45},"generated":{"line":1,"column":2117}},{"source":"controller.js","original":{"line":111,"column":7},"generated":{"line":1,"column":2120}},{"source":"controller.js","original":{"line":111,"column":7},"generated":{"line":1,"column":2124}},{"source":"controller.js","name":"i","original":{"line":111,"column":11},"generated":{"line":1,"column":2128}},{"source":"controller.js","original":{"line":111,"column":15},"generated":{"line":1,"column":2130}},{"source":"controller.js","name":"i","original":{"line":111,"column":18},"generated":{"line":1,"column":2132}},{"source":"controller.js","name":"mutations","original":{"line":111,"column":22},"generated":{"line":1,"column":2134}},{"source":"controller.js","name":"length","original":{"line":111,"column":32},"generated":{"line":1,"column":2136}},{"source":"controller.js","name":"i","original":{"line":111,"column":40},"generated":{"line":1,"column":2143}},{"source":"controller.js","original":{"line":112,"column":9},"generated":{"line":1,"column":2147}},{"source":"controller.js","original":{"line":112,"column":9},"generated":{"line":1,"column":2151}},{"source":"controller.js","name":"j","original":{"line":112,"column":13},"generated":{"line":1,"column":2155}},{"source":"controller.js","original":{"line":112,"column":17},"generated":{"line":1,"column":2157}},{"source":"controller.js","name":"j","original":{"line":112,"column":20},"generated":{"line":1,"column":2159}},{"source":"controller.js","name":"mutations","original":{"line":112,"column":24},"generated":{"line":1,"column":2161}},{"source":"controller.js","name":"i","original":{"line":112,"column":34},"generated":{"line":1,"column":2163}},{"source":"controller.js","name":"addedNodes","original":{"line":112,"column":37},"generated":{"line":1,"column":2166}},{"source":"controller.js","name":"length","original":{"line":112,"column":48},"generated":{"line":1,"column":2177}},{"source":"controller.js","name":"j","original":{"line":112,"column":56},"generated":{"line":1,"column":2184}},{"source":"controller.js","original":{"line":112,"column":61},"generated":{"line":1,"column":2188}},{"source":"controller.js","name":"node","original":{"line":115,"column":10},"generated":{"line":1,"column":2189}},{"source":"controller.js","name":"node","original":{"line":115,"column":10},"generated":{"line":1,"column":2193}},{"source":"controller.js","name":"mutations","original":{"line":115,"column":17},"generated":{"line":1,"column":2195}},{"source":"controller.js","name":"i","original":{"line":115,"column":27},"generated":{"line":1,"column":2197}},{"source":"controller.js","name":"addedNodes","original":{"line":115,"column":30},"generated":{"line":1,"column":2200}},{"source":"controller.js","name":"j","original":{"line":115,"column":41},"generated":{"line":1,"column":2211}},{"source":"controller.js","name":"node","original":{"line":117,"column":11},"generated":{"line":1,"column":2214}},{"source":"controller.js","name":"node","original":{"line":117,"column":11},"generated":{"line":1,"column":2217}},{"source":"controller.js","name":"nodeType","original":{"line":117,"column":16},"generated":{"line":1,"column":2219}},{"source":"controller.js","name":"Node","original":{"line":117,"column":28},"generated":{"line":1,"column":2229}},{"source":"controller.js","name":"ELEMENT_NODE","original":{"line":117,"column":33},"generated":{"line":1,"column":2234}},{"source":"controller.js","name":"node","original":{"line":118,"column":9},"generated":{"line":1,"column":2248}},{"source":"controller.js","name":"id","original":{"line":118,"column":14},"generated":{"line":1,"column":2250}},{"source":"controller.js","name":"MY_SELECTOR","original":{"line":118,"column":20},"generated":{"line":1,"column":2254}},{"source":"controller.js","original":{"line":118,"column":34},"generated":{"line":1,"column":2256}},{"source":"controller.js","name":"searchTerm","original":{"line":121,"column":12},"generated":{"line":1,"column":2257}},{"source":"controller.js","name":"searchTerm","original":{"line":121,"column":12},"generated":{"line":1,"column":2261}},{"source":"controller.js","original":{"line":121,"column":25},"generated":{"line":1,"column":2263}},{"source":"controller.js","name":"searchTerm","original":{"line":124,"column":8},"generated":{"line":1,"column":2289}},{"source":"controller.js","name":"searchTerm","original":{"line":122,"column":8},"generated":{"line":1,"column":2292}},{"source":"controller.js","name":"$","original":{"line":122,"column":21},"generated":{"line":1,"column":2294}},{"source":"controller.js","original":{"line":122,"column":23},"generated":{"line":1,"column":2296}},{"source":"controller.js","name":"text","original":{"line":122,"column":40},"generated":{"line":1,"column":2313}},{"source":"controller.js","name":"trim","original":{"line":124,"column":32},"generated":{"line":1,"column":2321}},{"source":"controller.js","name":"chrome","original":{"line":125,"column":8},"generated":{"line":1,"column":2328}},{"source":"controller.js","name":"storage","original":{"line":125,"column":15},"generated":{"line":1,"column":2335}},{"source":"controller.js","name":"sync","original":{"line":125,"column":23},"generated":{"line":1,"column":2343}},{"source":"controller.js","name":"get","original":{"line":125,"column":28},"generated":{"line":1,"column":2348}},{"source":"controller.js","original":{"line":125,"column":32},"generated":{"line":1,"column":2352}},{"source":"controller.js","name":"betaMode","original":{"line":126,"column":10},"generated":{"line":1,"column":2353}},{"source":"controller.js","original":{"line":126,"column":20},"generated":{"line":1,"column":2363}},{"source":"controller.js","name":"toSort","original":{"line":127,"column":10},"generated":{"line":1,"column":2365}},{"source":"controller.js","original":{"line":127,"column":18},"generated":{"line":1,"column":2373}},{"source":"controller.js","original":{"line":128,"column":11},"generated":{"line":1,"column":2376}},{"source":"controller.js","name":"items","original":{"line":128,"column":20},"generated":{"line":1,"column":2385}},{"source":"controller.js","name":"getResultsFromAPI","original":{"line":130,"column":10},"generated":{"line":1,"column":2388}},{"source":"controller.js","name":"searchTerm","original":{"line":130,"column":28},"generated":{"line":1,"column":2390}},{"source":"controller.js","name":"items","original":{"line":130,"column":40},"generated":{"line":1,"column":2392}},{"source":"controller.js","name":"betaMode","original":{"line":130,"column":46},"generated":{"line":1,"column":2394}},{"source":"controller.js","name":"observer","original":{"line":135,"column":8},"generated":{"line":1,"column":2406}},{"source":"controller.js","name":"disconnect","original":{"line":135,"column":17},"generated":{"line":1,"column":2408}},{"source":"controller.js","name":"observer","original":{"line":141,"column":0},"generated":{"line":1,"column":2425}},{"source":"controller.js","name":"observe","original":{"line":141,"column":9},"generated":{"line":1,"column":2427}},{"source":"controller.js","name":"document","original":{"line":141,"column":17},"generated":{"line":1,"column":2435}},{"source":"controller.js","name":"documentElement","original":{"line":141,"column":26},"generated":{"line":1,"column":2444}},{"source":"controller.js","original":{"line":141,"column":43},"generated":{"line":1,"column":2460}},{"source":"controller.js","name":"childList","original":{"line":142,"column":2},"generated":{"line":1,"column":2461}},{"source":"controller.js","original":{"line":142,"column":13},"generated":{"line":1,"column":2472}},{"source":"controller.js","name":"subtree","original":{"line":143,"column":2},"generated":{"line":1,"column":2474}},{"source":"controller.js","original":{"line":143,"column":11},"generated":{"line":1,"column":2483}}],"sources":{"controller.js":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nfunction getResultsFromAPI(searchTerm, betaMode) {\n  //Note: Call to backend service here\n\n  var regex = RegExp(\"^(http[s]?://)?([\\\\w.-]+)(:[0-9]+)?/([\\\\w-%]+/)?(dp|gp/product|exec/obidos/asin)/(\\\\w+/)?(\\\\w{10})(.*)?$\");\n  var m = window.location.href.match(regex);\n\n  var encodedSearchTerm = encodeURIComponent(searchTerm);\n\n  var serverUrl = \"https://sheltered-mountain-69586.herokuapp.com/GetProductClass?name=\" + encodedSearchTerm + \"&mode=\" + betaMode;\n  if (m!= null && m!=undefined && m.length > 7) {\n    serverUrl += \"&asin=\" + m[7];\n  }\n  $.get(serverUrl, function(data, status) {\n    console.log(data);\n    var result = JSON.parse(data);\n    var newText = \"\";\n\n    var productGreenRating = result.classification;\n    if (!betaMode && productGreenRating != 0) { //disable most features on beta mode\n      return;\n    }\n    if (result.has_results == false || (result.data_quality != 0 && result.data_quality < 2)) {\n      return; //TODO:  A/B Test??\n      var newText = \"<span class=\\\"no_data_available\\\">**We do not have enough data to give a green score.</span> \";\n    } else if (productGreenRating == 0)\n      newText = \"  <span style='color:green'> Eco Friendly </span> \";\n    else if (productGreenRating == 1)\n      newText = \"   <span style='color:red'> Not Eco Friendly <span id=\\\"sampleDiv\\\"></span> </span>\";\n    else if (productGreenRating == 2)\n      newText = \"    <span style='color:blue'> Neutral </span> \";\n    else\n      newText = \"API return value is not valid in myscript.js\";\n\n\n    var labelObject = $(newText);\n    if (result.has_results) {\n\n      //5 star scale rating\n      labelObject.first().attr('id', 't_el_label');\n      var tooltipHTML = \"<i class=\\\"material-icons icon-colors\\\">info</i> <span class=\\\"tooltiptext\\\"> \";\n\n      var calculateScore = function(score) {\n        return (score * 5);\n      };\n      tooltipHTML += \"On a 5 star greenness rating scale, our sources give the product a of <span class=\\\"tooltiptextemphasis\\\">\" +\n        Number.parseFloat(calculateScore(result.score)).toFixed(1);\n\n\n      tooltipHTML += \"</span>. \";\n\n      //data quality\n      if (result.data_quality >= 2) {\n        var dQratingsMap = {\n          2: 'Limited',\n          3: 'Fair',\n          4: 'Good',\n          5: 'Robust'\n        };\n        tooltipHTML += \"<br> <br> Based on <span class=\\\"tooltiptextemphasis\\\">\" +\n          dQratingsMap[Math.round(result.data_quality)] +\n          \"</span> amount of data.\";\n\n\n      }\n      tooltipHTML += \"<br><br> <a  target=\\\"_blank\\\" style=\\\"font-style: italic;\\\" href=\\\"https://3elephants.github.io/website/description.html\\\">See More Information on How We Rate Products</a> \"\n      tooltipHTML += \"</span>\"\n\n\n      labelObject.append(tooltipHTML);\n\n    }\n\n\n\n    var completeText = $(\"#productTitle\").text() + labelObject.prop('outerHTML');\n    $(\"#productTitle\").html(completeText);\n    $(\"#title_feature_div\").css({\n      \"overflow\": \"visible\",\n      \"margin-bottom\": \"50px\"\n    });\n\n    ReactDOM.render(<App />, document.getElementById('sampleDiv'));\n\n    $(function() { //incase the rest of the webpage lags and invalidates the css\n      $(\"#productTitle\").html(completeText);\n      $(\"#title_feature_div\").css({\n        \"overflow\": \"visible\",\n        \"margin-bottom\": \"50px\"\n      });\n      ReactDOM.render(<App />, document.getElementById('sampleDiv'));\n    });\n\n\n\n\n  });\n\n  var txt = '{\"rating\": 0}';\n  var obj = JSON.parse(txt);\n\n  var result = obj.rating;\n  return result;\n}\nvar MY_SELECTOR = \"productTitle\"; // Could be any selector\nvar observer = new MutationObserver(function(mutations) {\n  for (var i = 0; i < mutations.length; i++) {\n    for (var j = 0; j < mutations[i].addedNodes.length; j++) {\n      // We're iterating through _all_ the elements as the parser parses them,\n      // deciding if they're the one we're looking for.\n      var node = mutations[i].addedNodes[j];\n\n      if ((node.nodeType == Node.ELEMENT_NODE) &&\n        (node.id == MY_SELECTOR)) {\n\n\n        var searchTerm = \"Soap for Goodness Sakes\";\n        searchTerm = $(\"#productTitle\").text();\n\n        searchTerm = searchTerm.trim();\n        chrome.storage.sync.get({\n          betaMode: true,\n          toSort: true\n        }, function(items) {\n\n          getResultsFromAPI(searchTerm, items.betaMode); //probably url encode product info\n\n        });\n\n        // We found our element, we're done:\n        observer.disconnect();\n      };\n    }\n  }\n});\n\nobserver.observe(document.documentElement, {\n  childList: true,\n  subtree: true\n});\n\n\n//\n// Part 2: Give the product design description to the Flask server\n// *Please note that the product description's entire HTML is being retrieved, not just keywords.\n// So the algorithm has to be designed in a way that this will not dilute the score.\n// var productDescription = \"This is just a product description\";\n// productDescription = $(\"#a-section launchpad-text-left-justify\").html();\n//\n// No trimming necessary because of how jQuery html method works\n// realProductDescription = productDescription;\n// console.log(realProductDescription);\n// giveAPITheProductDescription(realProductDescription);\n//\n//\n// Part 3: Get the Customer question and answers\n// var allAnswers = \"This is going to be an array of customer answers\";\n// var allText = \"This is the allText variable\";\n// allAnswers = $(\"#allAnswers\").each(function(index) {\n//   console.log(index + \": \" + $(this).text());\n//   allText = allText + \" \" + $(this).text();\n// });\n//\n// console.log(\"Part 3 is almost done\");\n// // giveAPITheCustomerAnswers(allText);\n// console.log(\"Part 3 is now done\");\n"},"lineCount":null}},"hash":"5b8bd6ebec727cf325a6adea7af2aff5","cacheData":{"env":{}}}