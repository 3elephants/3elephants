{"id":"UmxK","dependencies":[{"name":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/package.json","includedInParent":true,"mtime":1552520135849},{"name":"react","loc":{"line":1,"column":18},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/lib/price_changer.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/node_modules/preact-compat/dist/preact-compat.es.js"},{"name":"react-dom","loc":{"line":2,"column":21},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/lib/price_changer.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/node_modules/preact-compat/dist/preact-compat.es.js"},{"name":"./utils","loc":{"line":3,"column":39},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/lib/price_changer.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/lib/utils.js"},{"name":"./../components/price_changer","loc":{"line":5,"column":25},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/lib/price_changer.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/components/price_changer.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.create=n;var e=c(require(\"react\")),r=c(require(\"react-dom\")),t=require(\"./utils\"),a=c(require(\"./../components/price_changer\"));function c(e){return e&&e.__esModule?e:{default:e}}function n(c,n){(0,t.jQueryDOMUpdater)(function(c){if(!(0,t.exists)(document.getElementById(\"elephants-price\"))){var n=c[2];if(null==n||null==n){var i=$(\"#priceblock_ourprice\").text().replace(/[^0-9.]/g,\"\");n=parseFloat(i)}var u={price:n};$(\"#priceblock_ourprice\").html('<span id=\"elephants-price\"></span>'),r.default.render(e.default.createElement(a.default,{score:c[0].score,variant:c[1],amazonData:u}),document.getElementById(\"elephants-price\"))}},[c,n])}","map":{"mappings":[{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":0}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":13}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":20}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":35}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":43}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":56}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":57}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":64}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":68}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":76}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":83}},{"source":"lib/price_changer.js","original":{"line":1,"column":0},"generated":{"line":1,"column":85}},{"source":"lib/price_changer.js","original":{"line":1,"column":0},"generated":{"line":1,"column":89}},{"source":"lib/price_changer.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"lib/price_changer.js","original":{"line":1,"column":0},"generated":{"line":1,"column":93}},{"source":"lib/price_changer.js","original":{"line":1,"column":0},"generated":{"line":1,"column":101}},{"source":"lib/price_changer.js","original":{"line":2,"column":0},"generated":{"line":1,"column":111}},{"source":"lib/price_changer.js","original":{"line":2,"column":0},"generated":{"line":1,"column":113}},{"source":"lib/price_changer.js","original":{"line":2,"column":0},"generated":{"line":1,"column":115}},{"source":"lib/price_changer.js","original":{"line":2,"column":0},"generated":{"line":1,"column":123}},{"source":"lib/price_changer.js","original":{"line":3,"column":0},"generated":{"line":1,"column":137}},{"source":"lib/price_changer.js","original":{"line":3,"column":0},"generated":{"line":1,"column":139}},{"source":"lib/price_changer.js","original":{"line":3,"column":0},"generated":{"line":1,"column":147}},{"source":"lib/price_changer.js","original":{"line":5,"column":0},"generated":{"line":1,"column":158}},{"source":"lib/price_changer.js","original":{"line":5,"column":0},"generated":{"line":1,"column":160}},{"source":"lib/price_changer.js","original":{"line":5,"column":0},"generated":{"line":1,"column":162}},{"source":"lib/price_changer.js","original":{"line":5,"column":0},"generated":{"line":1,"column":170}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":204}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":213}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":215}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":218}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":225}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":228}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":230}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":241}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":243}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":244}},{"source":"lib/price_changer.js","original":{"line":37,"column":1},"generated":{"line":1,"column":252}},{"source":"lib/price_changer.js","original":{"line":8,"column":7},"generated":{"line":1,"column":255}},{"source":"lib/price_changer.js","name":"create","original":{"line":8,"column":16},"generated":{"line":1,"column":264}},{"source":"lib/price_changer.js","name":"data","original":{"line":8,"column":23},"generated":{"line":1,"column":266}},{"source":"lib/price_changer.js","name":"variant","original":{"line":8,"column":29},"generated":{"line":1,"column":268}},{"source":"lib/price_changer.js","name":"updateLogic","original":{"line":36,"column":19},"generated":{"line":1,"column":272}},{"source":"lib/price_changer.js","name":"updateLogic","original":{"line":36,"column":19},"generated":{"line":1,"column":274}},{"source":"lib/price_changer.js","name":"updateLogic","original":{"line":36,"column":19},"generated":{"line":1,"column":276}},{"source":"lib/price_changer.js","original":{"line":9,"column":20},"generated":{"line":1,"column":294}},{"source":"lib/price_changer.js","name":"params","original":{"line":9,"column":21},"generated":{"line":1,"column":303}},{"source":"lib/price_changer.js","original":{"line":10,"column":8},"generated":{"line":1,"column":306}},{"source":"lib/price_changer.js","original":{"line":10,"column":8},"generated":{"line":1,"column":311}},{"source":"lib/price_changer.js","name":"document","original":{"line":10,"column":15},"generated":{"line":1,"column":313}},{"source":"lib/price_changer.js","name":"document","original":{"line":10,"column":15},"generated":{"line":1,"column":315}},{"source":"lib/price_changer.js","name":"document","original":{"line":10,"column":15},"generated":{"line":1,"column":323}},{"source":"lib/price_changer.js","name":"getElementById","original":{"line":10,"column":24},"generated":{"line":1,"column":332}},{"source":"lib/price_changer.js","original":{"line":10,"column":39},"generated":{"line":1,"column":347}},{"source":"lib/price_changer.js","original":{"line":10,"column":8},"generated":{"line":1,"column":367}},{"source":"lib/price_changer.js","name":"floatPrice","original":{"line":14,"column":8},"generated":{"line":1,"column":368}},{"source":"lib/price_changer.js","name":"floatPrice","original":{"line":14,"column":8},"generated":{"line":1,"column":372}},{"source":"lib/price_changer.js","name":"params","original":{"line":14,"column":21},"generated":{"line":1,"column":374}},{"source":"lib/price_changer.js","original":{"line":14,"column":28},"generated":{"line":1,"column":376}},{"source":"lib/price_changer.js","name":"floatPrice","original":{"line":15,"column":8},"generated":{"line":1,"column":379}},{"source":"lib/price_changer.js","name":"undefined","original":{"line":15,"column":22},"generated":{"line":1,"column":382}},{"source":"lib/price_changer.js","name":"floatPrice","original":{"line":15,"column":8},"generated":{"line":1,"column":388}},{"source":"lib/price_changer.js","original":{"line":15,"column":49},"generated":{"line":1,"column":391}},{"source":"lib/price_changer.js","name":"floatPrice","original":{"line":15,"column":35},"generated":{"line":1,"column":397}},{"source":"lib/price_changer.js","original":{"line":16,"column":4},"generated":{"line":1,"column":399}},{"source":"lib/price_changer.js","name":"amazonPrice","original":{"line":17,"column":10},"generated":{"line":1,"column":400}},{"source":"lib/price_changer.js","name":"newPrice","original":{"line":19,"column":10},"generated":{"line":1,"column":404}},{"source":"lib/price_changer.js","name":"$","original":{"line":17,"column":24},"generated":{"line":1,"column":406}},{"source":"lib/price_changer.js","original":{"line":17,"column":26},"generated":{"line":1,"column":408}},{"source":"lib/price_changer.js","name":"text","original":{"line":17,"column":50},"generated":{"line":1,"column":432}},{"source":"lib/price_changer.js","name":"replace","original":{"line":19,"column":33},"generated":{"line":1,"column":439}},{"source":"lib/price_changer.js","original":{"line":18,"column":18},"generated":{"line":1,"column":447}},{"source":"lib/price_changer.js","original":{"line":19,"column":48},"generated":{"line":1,"column":458}},{"source":"lib/price_changer.js","name":"floatPrice","original":{"line":20,"column":6},"generated":{"line":1,"column":462}},{"source":"lib/price_changer.js","name":"parseFloat","original":{"line":20,"column":19},"generated":{"line":1,"column":464}},{"source":"lib/price_changer.js","name":"newPrice","original":{"line":20,"column":30},"generated":{"line":1,"column":475}},{"source":"lib/price_changer.js","name":"amazonData","original":{"line":23,"column":8},"generated":{"line":1,"column":478}},{"source":"lib/price_changer.js","name":"amazonData","original":{"line":23,"column":8},"generated":{"line":1,"column":482}},{"source":"lib/price_changer.js","original":{"line":23,"column":21},"generated":{"line":1,"column":484}},{"source":"lib/price_changer.js","name":"price","original":{"line":24,"column":6},"generated":{"line":1,"column":485}},{"source":"lib/price_changer.js","name":"floatPrice","original":{"line":24,"column":12},"generated":{"line":1,"column":491}},{"source":"lib/price_changer.js","name":"$","original":{"line":30,"column":4},"generated":{"line":1,"column":494}},{"source":"lib/price_changer.js","original":{"line":30,"column":6},"generated":{"line":1,"column":496}},{"source":"lib/price_changer.js","name":"html","original":{"line":30,"column":30},"generated":{"line":1,"column":520}},{"source":"lib/price_changer.js","original":{"line":29,"column":25},"generated":{"line":1,"column":525}},{"source":"lib/price_changer.js","name":"render","original":{"line":32,"column":13},"generated":{"line":1,"column":563}},{"source":"lib/price_changer.js","name":"render","original":{"line":32,"column":13},"generated":{"line":1,"column":565}},{"source":"lib/price_changer.js","name":"render","original":{"line":32,"column":13},"generated":{"line":1,"column":573}},{"source":"lib/price_changer.js","original":{"line":32,"column":20},"generated":{"line":1,"column":580}},{"source":"lib/price_changer.js","original":{"line":32,"column":21},"generated":{"line":1,"column":582}},{"source":"lib/price_changer.js","original":{"line":32,"column":21},"generated":{"line":1,"column":590}},{"source":"lib/price_changer.js","original":{"line":32,"column":21},"generated":{"line":1,"column":604}},{"source":"lib/price_changer.js","original":{"line":32,"column":20},"generated":{"line":1,"column":606}},{"source":"lib/price_changer.js","original":{"line":32,"column":20},"generated":{"line":1,"column":614}},{"source":"lib/price_changer.js","original":{"line":32,"column":34},"generated":{"line":1,"column":615}},{"source":"lib/price_changer.js","name":"params","original":{"line":32,"column":41},"generated":{"line":1,"column":621}},{"source":"lib/price_changer.js","original":{"line":32,"column":48},"generated":{"line":1,"column":623}},{"source":"lib/price_changer.js","name":"score","original":{"line":32,"column":51},"generated":{"line":1,"column":626}},{"source":"lib/price_changer.js","original":{"line":32,"column":58},"generated":{"line":1,"column":632}},{"source":"lib/price_changer.js","name":"params","original":{"line":32,"column":67},"generated":{"line":1,"column":640}},{"source":"lib/price_changer.js","original":{"line":32,"column":74},"generated":{"line":1,"column":642}},{"source":"lib/price_changer.js","original":{"line":32,"column":78},"generated":{"line":1,"column":645}},{"source":"lib/price_changer.js","name":"amazonData","original":{"line":32,"column":90},"generated":{"line":1,"column":656}},{"source":"lib/price_changer.js","name":"document","original":{"line":32,"column":106},"generated":{"line":1,"column":660}},{"source":"lib/price_changer.js","name":"getElementById","original":{"line":32,"column":115},"generated":{"line":1,"column":669}},{"source":"lib/price_changer.js","original":{"line":32,"column":130},"generated":{"line":1,"column":684}},{"source":"lib/price_changer.js","original":{"line":36,"column":32},"generated":{"line":1,"column":706}},{"source":"lib/price_changer.js","name":"data","original":{"line":36,"column":33},"generated":{"line":1,"column":707}},{"source":"lib/price_changer.js","name":"variant","original":{"line":36,"column":39},"generated":{"line":1,"column":709}}],"sources":{"lib/price_changer.js":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {jQueryDOMUpdater, exists} from './utils'\n\nimport PriceChanger from './../components/price_changer';\n\n\nexport function create(data, variant) {\n  var updateLogic = (params) => {\n    if (exists(document.getElementById('elephants-price'))) {\n      return;\n    }\n    //get price\n    var floatPrice = params[2] //to keep price changer create idempotent\n    if (floatPrice == undefined || floatPrice == null)\n    {\n      var amazonPrice = $(\"#priceblock_ourprice\").text();\n      var regex = /[^0-9.]/g;\n      var newPrice = amazonPrice.replace(regex, \"\");\n      floatPrice = parseFloat(newPrice);\n    }\n\n    var amazonData = {\n      price:floatPrice\n    };\n\n\n    //update DOM\n    var labelContainer = '<span id=\"elephants-price\"></span>';\n    $(\"#priceblock_ourprice\").html(labelContainer);\n\n    ReactDOM.render(<PriceChanger score={params[0].score} variant={params[1]} amazonData={amazonData} />, document.getElementById('elephants-price'));\n\n  };\n\n  jQueryDOMUpdater(updateLogic, [data, variant]);\n}\n"},"lineCount":null}},"hash":"85c56e2569ea83f7632e285ae3e2b2a1","cacheData":{"env":{}}}