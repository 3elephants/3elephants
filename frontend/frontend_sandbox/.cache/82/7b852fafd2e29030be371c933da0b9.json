{"id":"69ni","dependencies":[{"name":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/package.json","includedInParent":true,"mtime":1552520135849},{"name":"react","loc":{"line":1,"column":31},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/controller.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/node_modules/preact-compat/dist/preact-compat.es.js"},{"name":"react-dom","loc":{"line":3,"column":21},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/controller.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/node_modules/preact-compat/dist/preact-compat.es.js"},{"name":"./lib/utils","loc":{"line":6,"column":29},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/controller.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/lib/utils.js"},{"name":"./lib/label","loc":{"line":7,"column":23},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/controller.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/lib/label.js"},{"name":"./lib/tooltip","loc":{"line":8,"column":25},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/controller.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/lib/tooltip.js"},{"name":"./lib/reformat","loc":{"line":9,"column":26},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/controller.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/lib/reformat.js"},{"name":"./lib/add_to_cart","loc":{"line":10,"column":27},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/controller.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/lib/add_to_cart.js"},{"name":"./lib/price_changer","loc":{"line":11,"column":30},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/controller.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/lib/price_changer.js"},{"name":"./lib/rating","loc":{"line":12,"column":24},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/controller.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/lib/rating.js"},{"name":"./lib/ab_test","loc":{"line":13,"column":24},"parent":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/controller.js","resolved":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/src/lib/ab_test.js"}],"generated":{"js":"\"use strict\";var e=d(require(\"react\")),t=l(require(\"react-dom\")),r=d(require(\"./lib/utils\")),o=d(require(\"./lib/label\")),n=d(require(\"./lib/tooltip\")),i=d(require(\"./lib/reformat\")),a=d(require(\"./lib/add_to_cart\")),c=d(require(\"./lib/price_changer\")),s=d(require(\"./lib/rating\")),u=d(require(\"./lib/ab_test\"));function l(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}function g(e,t,r){var l=e.classification;(t||0==l)&&(r.label.is_on,o.create(e),r.tooltip.is_on&&n.create(e),0==e.has_results||0!=e.data_quality&&e.data_quality<2||(r.background_color.is_on&&i.changeBackgroundColor(e),r.add_to_cart.is_on&&a.create(e),r.price.is_on&&c.create(e,r.price),r.rating.is_on&&s.create(e)),u.mixpanelInstall(),u.registerSession(r,e),u.trackingCode())}function f(e,t){var o=encodeURIComponent(e),n=r.regexFunc(),i=\"https://sheltered-mountain-69586.herokuapp.com/GetProductClass?name=\"+o+\"&mode=\"+t;null!=n&&null!=n&&n.length>7&&(i+=\"&asin=\"+n[7]),$.get(i,function(e,r){console.log(e),e=JSON.parse(e),chrome.storage.sync.get([\"feature_settings\"],function(r){null==r.feature_settings||null==r.feature_settings?r.feature_settings=u.generateConfiguration():console.log(\"configuration already set\"),g(e,t,r.feature_settings)})})}function _(){var e=new MutationObserver(function(t){for(var r=0;r<t.length;r++)for(var o=0;o<t[r].addedNodes.length;o++){var n=t[r].addedNodes[o];if(n.nodeType==Node.ELEMENT_NODE&&\"productTitle\"==n.id){var i=$(\"#productTitle\").text();i=i.trim(),chrome.storage.sync.get({betaMode:!0,toSort:!0},function(e){f(i,e.betaMode)}),e.disconnect()}}});e.observe(document.documentElement,{childList:!0,subtree:!0})}_();","map":{"mappings":[{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":0}},{"source":"controller.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"controller.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"controller.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"controller.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"controller.js","original":{"line":1,"column":0},"generated":{"line":1,"column":29}},{"source":"controller.js","original":{"line":3,"column":0},"generated":{"line":1,"column":39}},{"source":"controller.js","original":{"line":3,"column":0},"generated":{"line":1,"column":41}},{"source":"controller.js","original":{"line":3,"column":0},"generated":{"line":1,"column":43}},{"source":"controller.js","original":{"line":3,"column":0},"generated":{"line":1,"column":51}},{"source":"controller.js","original":{"line":6,"column":0},"generated":{"line":1,"column":65}},{"source":"controller.js","original":{"line":6,"column":0},"generated":{"line":1,"column":67}},{"source":"controller.js","original":{"line":6,"column":0},"generated":{"line":1,"column":69}},{"source":"controller.js","original":{"line":6,"column":0},"generated":{"line":1,"column":77}},{"source":"controller.js","original":{"line":7,"column":0},"generated":{"line":1,"column":93}},{"source":"controller.js","original":{"line":7,"column":0},"generated":{"line":1,"column":95}},{"source":"controller.js","original":{"line":7,"column":0},"generated":{"line":1,"column":97}},{"source":"controller.js","original":{"line":7,"column":0},"generated":{"line":1,"column":105}},{"source":"controller.js","original":{"line":8,"column":0},"generated":{"line":1,"column":121}},{"source":"controller.js","original":{"line":8,"column":0},"generated":{"line":1,"column":123}},{"source":"controller.js","original":{"line":8,"column":0},"generated":{"line":1,"column":125}},{"source":"controller.js","original":{"line":8,"column":0},"generated":{"line":1,"column":133}},{"source":"controller.js","original":{"line":9,"column":0},"generated":{"line":1,"column":151}},{"source":"controller.js","original":{"line":9,"column":0},"generated":{"line":1,"column":153}},{"source":"controller.js","original":{"line":9,"column":0},"generated":{"line":1,"column":155}},{"source":"controller.js","original":{"line":9,"column":0},"generated":{"line":1,"column":163}},{"source":"controller.js","original":{"line":10,"column":0},"generated":{"line":1,"column":182}},{"source":"controller.js","original":{"line":10,"column":0},"generated":{"line":1,"column":184}},{"source":"controller.js","original":{"line":10,"column":0},"generated":{"line":1,"column":186}},{"source":"controller.js","original":{"line":10,"column":0},"generated":{"line":1,"column":194}},{"source":"controller.js","original":{"line":11,"column":0},"generated":{"line":1,"column":216}},{"source":"controller.js","original":{"line":11,"column":0},"generated":{"line":1,"column":218}},{"source":"controller.js","original":{"line":11,"column":0},"generated":{"line":1,"column":220}},{"source":"controller.js","original":{"line":11,"column":0},"generated":{"line":1,"column":228}},{"source":"controller.js","original":{"line":12,"column":0},"generated":{"line":1,"column":252}},{"source":"controller.js","original":{"line":12,"column":0},"generated":{"line":1,"column":254}},{"source":"controller.js","original":{"line":12,"column":0},"generated":{"line":1,"column":256}},{"source":"controller.js","original":{"line":12,"column":0},"generated":{"line":1,"column":264}},{"source":"controller.js","original":{"line":13,"column":0},"generated":{"line":1,"column":281}},{"source":"controller.js","original":{"line":13,"column":0},"generated":{"line":1,"column":283}},{"source":"controller.js","original":{"line":13,"column":0},"generated":{"line":1,"column":285}},{"source":"controller.js","original":{"line":13,"column":0},"generated":{"line":1,"column":293}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":311}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":320}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":322}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":325}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":332}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":335}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":337}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":348}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":350}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":351}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":359}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":362}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":371}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":373}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":376}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":379}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":382}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":384}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":395}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":402}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":404}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":408}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":410}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":413}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":416}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":422}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":424}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":428}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":432}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":437}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":439}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":442}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":449}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":459}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":474}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":479}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":481}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":484}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":485}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":489}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":491}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":498}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":514}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":521}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":546}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":553}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":578}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":580}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":583}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":586}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":588}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":593}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":595}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":599}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":606}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":621}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":623}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":625}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":628}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":630}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":633}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":635}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":638}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":645}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":647}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":655}},{"source":"controller.js","original":{"line":138,"column":4},"generated":{"line":1,"column":657}},{"source":"controller.js","original":{"line":19,"column":0},"generated":{"line":1,"column":659}},{"source":"controller.js","name":"updateUICallback","original":{"line":19,"column":9},"generated":{"line":1,"column":668}},{"source":"controller.js","name":"data","original":{"line":19,"column":26},"generated":{"line":1,"column":670}},{"source":"controller.js","name":"betaMode","original":{"line":19,"column":32},"generated":{"line":1,"column":672}},{"source":"controller.js","name":"configuration","original":{"line":19,"column":42},"generated":{"line":1,"column":674}},{"source":"controller.js","name":"productGreenRating","original":{"line":21,"column":6},"generated":{"line":1,"column":677}},{"source":"controller.js","name":"productGreenRating","original":{"line":21,"column":6},"generated":{"line":1,"column":681}},{"source":"controller.js","name":"data","original":{"line":21,"column":27},"generated":{"line":1,"column":683}},{"source":"controller.js","name":"classification","original":{"line":21,"column":32},"generated":{"line":1,"column":685}},{"source":"controller.js","name":"betaMode","original":{"line":23,"column":7},"generated":{"line":1,"column":701}},{"source":"controller.js","original":{"line":23,"column":41},"generated":{"line":1,"column":704}},{"source":"controller.js","name":"productGreenRating","original":{"line":23,"column":19},"generated":{"line":1,"column":707}},{"source":"controller.js","name":"configuration","original":{"line":35,"column":5},"generated":{"line":1,"column":712}},{"source":"controller.js","name":"label","original":{"line":35,"column":19},"generated":{"line":1,"column":714}},{"source":"controller.js","name":"is_on","original":{"line":35,"column":25},"generated":{"line":1,"column":720}},{"source":"controller.js","name":"label","original":{"line":36,"column":4},"generated":{"line":1,"column":726}},{"source":"controller.js","name":"create","original":{"line":36,"column":10},"generated":{"line":1,"column":728}},{"source":"controller.js","name":"data","original":{"line":36,"column":17},"generated":{"line":1,"column":735}},{"source":"controller.js","name":"configuration","original":{"line":37,"column":5},"generated":{"line":1,"column":738}},{"source":"controller.js","name":"tooltip","original":{"line":37,"column":19},"generated":{"line":1,"column":740}},{"source":"controller.js","name":"is_on","original":{"line":37,"column":27},"generated":{"line":1,"column":748}},{"source":"controller.js","name":"tooltip","original":{"line":38,"column":4},"generated":{"line":1,"column":755}},{"source":"controller.js","name":"create","original":{"line":38,"column":12},"generated":{"line":1,"column":757}},{"source":"controller.js","name":"data","original":{"line":38,"column":19},"generated":{"line":1,"column":764}},{"source":"controller.js","original":{"line":43,"column":43},"generated":{"line":1,"column":767}},{"source":"controller.js","name":"data","original":{"line":43,"column":23},"generated":{"line":1,"column":770}},{"source":"controller.js","name":"has_results","original":{"line":43,"column":28},"generated":{"line":1,"column":772}},{"source":"controller.js","original":{"line":43,"column":73},"generated":{"line":1,"column":785}},{"source":"controller.js","name":"data","original":{"line":43,"column":53},"generated":{"line":1,"column":788}},{"source":"controller.js","name":"data_quality","original":{"line":43,"column":58},"generated":{"line":1,"column":790}},{"source":"controller.js","name":"data","original":{"line":43,"column":78},"generated":{"line":1,"column":804}},{"source":"controller.js","name":"data_quality","original":{"line":43,"column":83},"generated":{"line":1,"column":806}},{"source":"controller.js","original":{"line":43,"column":98},"generated":{"line":1,"column":819}},{"source":"controller.js","name":"configuration","original":{"line":45,"column":7},"generated":{"line":1,"column":823}},{"source":"controller.js","name":"background_color","original":{"line":45,"column":21},"generated":{"line":1,"column":825}},{"source":"controller.js","name":"is_on","original":{"line":45,"column":38},"generated":{"line":1,"column":842}},{"source":"controller.js","name":"reformat","original":{"line":46,"column":6},"generated":{"line":1,"column":849}},{"source":"controller.js","name":"changeBackgroundColor","original":{"line":46,"column":15},"generated":{"line":1,"column":851}},{"source":"controller.js","name":"data","original":{"line":46,"column":37},"generated":{"line":1,"column":873}},{"source":"controller.js","name":"configuration","original":{"line":47,"column":7},"generated":{"line":1,"column":876}},{"source":"controller.js","name":"add_to_cart","original":{"line":47,"column":21},"generated":{"line":1,"column":878}},{"source":"controller.js","name":"is_on","original":{"line":47,"column":33},"generated":{"line":1,"column":890}},{"source":"controller.js","name":"addToCart","original":{"line":48,"column":6},"generated":{"line":1,"column":897}},{"source":"controller.js","name":"create","original":{"line":48,"column":16},"generated":{"line":1,"column":899}},{"source":"controller.js","name":"data","original":{"line":48,"column":23},"generated":{"line":1,"column":906}},{"source":"controller.js","name":"configuration","original":{"line":49,"column":7},"generated":{"line":1,"column":909}},{"source":"controller.js","name":"price","original":{"line":49,"column":21},"generated":{"line":1,"column":911}},{"source":"controller.js","name":"is_on","original":{"line":49,"column":27},"generated":{"line":1,"column":917}},{"source":"controller.js","name":"priceChanger","original":{"line":50,"column":6},"generated":{"line":1,"column":924}},{"source":"controller.js","name":"create","original":{"line":50,"column":19},"generated":{"line":1,"column":926}},{"source":"controller.js","name":"data","original":{"line":50,"column":26},"generated":{"line":1,"column":933}},{"source":"controller.js","name":"configuration","original":{"line":50,"column":32},"generated":{"line":1,"column":935}},{"source":"controller.js","name":"price","original":{"line":50,"column":46},"generated":{"line":1,"column":937}},{"source":"controller.js","name":"configuration","original":{"line":51,"column":7},"generated":{"line":1,"column":944}},{"source":"controller.js","name":"rating","original":{"line":51,"column":21},"generated":{"line":1,"column":946}},{"source":"controller.js","name":"is_on","original":{"line":51,"column":28},"generated":{"line":1,"column":953}},{"source":"controller.js","name":"rating","original":{"line":52,"column":6},"generated":{"line":1,"column":960}},{"source":"controller.js","name":"create","original":{"line":52,"column":13},"generated":{"line":1,"column":962}},{"source":"controller.js","name":"data","original":{"line":52,"column":20},"generated":{"line":1,"column":969}},{"source":"controller.js","name":"abTest","original":{"line":56,"column":2},"generated":{"line":1,"column":973}},{"source":"controller.js","name":"mixpanelInstall","original":{"line":56,"column":9},"generated":{"line":1,"column":975}},{"source":"controller.js","name":"abTest","original":{"line":57,"column":2},"generated":{"line":1,"column":993}},{"source":"controller.js","name":"registerSession","original":{"line":57,"column":9},"generated":{"line":1,"column":995}},{"source":"controller.js","name":"configuration","original":{"line":57,"column":25},"generated":{"line":1,"column":1011}},{"source":"controller.js","name":"data","original":{"line":57,"column":40},"generated":{"line":1,"column":1013}},{"source":"controller.js","name":"abTest","original":{"line":58,"column":2},"generated":{"line":1,"column":1016}},{"source":"controller.js","name":"trackingCode","original":{"line":58,"column":9},"generated":{"line":1,"column":1018}},{"source":"controller.js","original":{"line":67,"column":0},"generated":{"line":1,"column":1034}},{"source":"controller.js","name":"triggerAPI","original":{"line":67,"column":9},"generated":{"line":1,"column":1043}},{"source":"controller.js","name":"searchTerm","original":{"line":67,"column":20},"generated":{"line":1,"column":1045}},{"source":"controller.js","name":"betaMode","original":{"line":67,"column":32},"generated":{"line":1,"column":1047}},{"source":"controller.js","name":"encodedSearchTerm","original":{"line":68,"column":6},"generated":{"line":1,"column":1050}},{"source":"controller.js","name":"encodedSearchTerm","original":{"line":68,"column":6},"generated":{"line":1,"column":1054}},{"source":"controller.js","name":"encodeURIComponent","original":{"line":68,"column":26},"generated":{"line":1,"column":1056}},{"source":"controller.js","name":"searchTerm","original":{"line":68,"column":45},"generated":{"line":1,"column":1075}},{"source":"controller.js","name":"m","original":{"line":69,"column":6},"generated":{"line":1,"column":1078}},{"source":"controller.js","name":"customUtils","original":{"line":69,"column":10},"generated":{"line":1,"column":1080}},{"source":"controller.js","name":"regexFunc","original":{"line":69,"column":22},"generated":{"line":1,"column":1082}},{"source":"controller.js","name":"serverUrl","original":{"line":70,"column":6},"generated":{"line":1,"column":1094}},{"source":"controller.js","original":{"line":70,"column":18},"generated":{"line":1,"column":1096}},{"source":"controller.js","name":"encodedSearchTerm","original":{"line":70,"column":91},"generated":{"line":1,"column":1167}},{"source":"controller.js","original":{"line":70,"column":111},"generated":{"line":1,"column":1169}},{"source":"controller.js","name":"betaMode","original":{"line":70,"column":122},"generated":{"line":1,"column":1178}},{"source":"controller.js","original":{"line":71,"column":11},"generated":{"line":1,"column":1180}},{"source":"controller.js","name":"m","original":{"line":71,"column":6},"generated":{"line":1,"column":1186}},{"source":"controller.js","name":"undefined","original":{"line":71,"column":24},"generated":{"line":1,"column":1189}},{"source":"controller.js","name":"m","original":{"line":71,"column":19},"generated":{"line":1,"column":1195}},{"source":"controller.js","name":"m","original":{"line":71,"column":37},"generated":{"line":1,"column":1198}},{"source":"controller.js","name":"length","original":{"line":71,"column":39},"generated":{"line":1,"column":1200}},{"source":"controller.js","original":{"line":71,"column":48},"generated":{"line":1,"column":1207}},{"source":"controller.js","name":"serverUrl","original":{"line":72,"column":4},"generated":{"line":1,"column":1211}},{"source":"controller.js","original":{"line":72,"column":17},"generated":{"line":1,"column":1214}},{"source":"controller.js","name":"m","original":{"line":72,"column":28},"generated":{"line":1,"column":1223}},{"source":"controller.js","original":{"line":72,"column":30},"generated":{"line":1,"column":1225}},{"source":"controller.js","name":"$","original":{"line":75,"column":2},"generated":{"line":1,"column":1229}},{"source":"controller.js","name":"get","original":{"line":75,"column":4},"generated":{"line":1,"column":1231}},{"source":"controller.js","name":"serverUrl","original":{"line":75,"column":8},"generated":{"line":1,"column":1235}},{"source":"controller.js","original":{"line":75,"column":19},"generated":{"line":1,"column":1237}},{"source":"controller.js","name":"data","original":{"line":75,"column":28},"generated":{"line":1,"column":1246}},{"source":"controller.js","name":"status","original":{"line":75,"column":34},"generated":{"line":1,"column":1248}},{"source":"controller.js","name":"console","original":{"line":76,"column":4},"generated":{"line":1,"column":1251}},{"source":"controller.js","name":"log","original":{"line":76,"column":12},"generated":{"line":1,"column":1259}},{"source":"controller.js","name":"data","original":{"line":76,"column":16},"generated":{"line":1,"column":1263}},{"source":"controller.js","name":"data","original":{"line":77,"column":4},"generated":{"line":1,"column":1266}},{"source":"controller.js","name":"JSON","original":{"line":77,"column":11},"generated":{"line":1,"column":1268}},{"source":"controller.js","name":"parse","original":{"line":77,"column":16},"generated":{"line":1,"column":1273}},{"source":"controller.js","name":"data","original":{"line":77,"column":22},"generated":{"line":1,"column":1279}},{"source":"controller.js","name":"chrome","original":{"line":78,"column":4},"generated":{"line":1,"column":1282}},{"source":"controller.js","name":"storage","original":{"line":78,"column":11},"generated":{"line":1,"column":1289}},{"source":"controller.js","name":"sync","original":{"line":78,"column":19},"generated":{"line":1,"column":1297}},{"source":"controller.js","name":"get","original":{"line":78,"column":24},"generated":{"line":1,"column":1302}},{"source":"controller.js","original":{"line":78,"column":28},"generated":{"line":1,"column":1306}},{"source":"controller.js","original":{"line":78,"column":29},"generated":{"line":1,"column":1307}},{"source":"controller.js","original":{"line":78,"column":50},"generated":{"line":1,"column":1327}},{"source":"controller.js","name":"result","original":{"line":78,"column":59},"generated":{"line":1,"column":1336}},{"source":"controller.js","name":"undefined","original":{"line":80,"column":36},"generated":{"line":1,"column":1339}},{"source":"controller.js","name":"result","original":{"line":80,"column":9},"generated":{"line":1,"column":1345}},{"source":"controller.js","name":"feature_settings","original":{"line":80,"column":16},"generated":{"line":1,"column":1347}},{"source":"controller.js","original":{"line":80,"column":76},"generated":{"line":1,"column":1365}},{"source":"controller.js","name":"result","original":{"line":80,"column":49},"generated":{"line":1,"column":1371}},{"source":"controller.js","name":"feature_settings","original":{"line":80,"column":56},"generated":{"line":1,"column":1373}},{"source":"controller.js","name":"result","original":{"line":81,"column":8},"generated":{"line":1,"column":1390}},{"source":"controller.js","name":"feature_settings","original":{"line":81,"column":15},"generated":{"line":1,"column":1392}},{"source":"controller.js","name":"abTest","original":{"line":81,"column":34},"generated":{"line":1,"column":1409}},{"source":"controller.js","name":"generateConfiguration","original":{"line":81,"column":41},"generated":{"line":1,"column":1411}},{"source":"controller.js","name":"console","original":{"line":83,"column":8},"generated":{"line":1,"column":1435}},{"source":"controller.js","name":"log","original":{"line":83,"column":16},"generated":{"line":1,"column":1443}},{"source":"controller.js","original":{"line":83,"column":20},"generated":{"line":1,"column":1447}},{"source":"controller.js","name":"updateUICallback","original":{"line":84,"column":6},"generated":{"line":1,"column":1476}},{"source":"controller.js","name":"data","original":{"line":84,"column":23},"generated":{"line":1,"column":1478}},{"source":"controller.js","name":"betaMode","original":{"line":84,"column":29},"generated":{"line":1,"column":1480}},{"source":"controller.js","name":"result","original":{"line":84,"column":39},"generated":{"line":1,"column":1482}},{"source":"controller.js","name":"feature_settings","original":{"line":84,"column":46},"generated":{"line":1,"column":1484}},{"source":"controller.js","original":{"line":99,"column":0},"generated":{"line":1,"column":1506}},{"source":"controller.js","name":"main","original":{"line":99,"column":9},"generated":{"line":1,"column":1515}},{"source":"controller.js","name":"observer","original":{"line":103,"column":6},"generated":{"line":1,"column":1519}},{"source":"controller.js","name":"observer","original":{"line":103,"column":6},"generated":{"line":1,"column":1523}},{"source":"controller.js","original":{"line":103,"column":17},"generated":{"line":1,"column":1525}},{"source":"controller.js","name":"MutationObserver","original":{"line":103,"column":21},"generated":{"line":1,"column":1529}},{"source":"controller.js","original":{"line":103,"column":38},"generated":{"line":1,"column":1546}},{"source":"controller.js","name":"mutations","original":{"line":103,"column":47},"generated":{"line":1,"column":1555}},{"source":"controller.js","original":{"line":105,"column":9},"generated":{"line":1,"column":1558}},{"source":"controller.js","original":{"line":105,"column":9},"generated":{"line":1,"column":1562}},{"source":"controller.js","name":"i","original":{"line":105,"column":13},"generated":{"line":1,"column":1566}},{"source":"controller.js","original":{"line":105,"column":17},"generated":{"line":1,"column":1568}},{"source":"controller.js","name":"i","original":{"line":105,"column":20},"generated":{"line":1,"column":1570}},{"source":"controller.js","name":"mutations","original":{"line":105,"column":24},"generated":{"line":1,"column":1572}},{"source":"controller.js","name":"length","original":{"line":105,"column":34},"generated":{"line":1,"column":1574}},{"source":"controller.js","name":"i","original":{"line":105,"column":42},"generated":{"line":1,"column":1581}},{"source":"controller.js","original":{"line":106,"column":11},"generated":{"line":1,"column":1585}},{"source":"controller.js","original":{"line":106,"column":11},"generated":{"line":1,"column":1589}},{"source":"controller.js","name":"j","original":{"line":106,"column":15},"generated":{"line":1,"column":1593}},{"source":"controller.js","original":{"line":106,"column":19},"generated":{"line":1,"column":1595}},{"source":"controller.js","name":"j","original":{"line":106,"column":22},"generated":{"line":1,"column":1597}},{"source":"controller.js","name":"mutations","original":{"line":106,"column":26},"generated":{"line":1,"column":1599}},{"source":"controller.js","name":"i","original":{"line":106,"column":36},"generated":{"line":1,"column":1601}},{"source":"controller.js","name":"addedNodes","original":{"line":106,"column":39},"generated":{"line":1,"column":1604}},{"source":"controller.js","name":"length","original":{"line":106,"column":50},"generated":{"line":1,"column":1615}},{"source":"controller.js","name":"j","original":{"line":106,"column":58},"generated":{"line":1,"column":1622}},{"source":"controller.js","original":{"line":106,"column":63},"generated":{"line":1,"column":1626}},{"source":"controller.js","name":"node","original":{"line":109,"column":12},"generated":{"line":1,"column":1627}},{"source":"controller.js","name":"node","original":{"line":109,"column":12},"generated":{"line":1,"column":1631}},{"source":"controller.js","name":"mutations","original":{"line":109,"column":19},"generated":{"line":1,"column":1633}},{"source":"controller.js","name":"i","original":{"line":109,"column":29},"generated":{"line":1,"column":1635}},{"source":"controller.js","name":"addedNodes","original":{"line":109,"column":32},"generated":{"line":1,"column":1638}},{"source":"controller.js","name":"j","original":{"line":109,"column":43},"generated":{"line":1,"column":1649}},{"source":"controller.js","name":"node","original":{"line":111,"column":13},"generated":{"line":1,"column":1652}},{"source":"controller.js","name":"node","original":{"line":111,"column":13},"generated":{"line":1,"column":1655}},{"source":"controller.js","name":"nodeType","original":{"line":111,"column":18},"generated":{"line":1,"column":1657}},{"source":"controller.js","name":"Node","original":{"line":111,"column":30},"generated":{"line":1,"column":1667}},{"source":"controller.js","name":"ELEMENT_NODE","original":{"line":111,"column":35},"generated":{"line":1,"column":1672}},{"source":"controller.js","original":{"line":112,"column":22},"generated":{"line":1,"column":1686}},{"source":"controller.js","name":"node","original":{"line":112,"column":11},"generated":{"line":1,"column":1702}},{"source":"controller.js","name":"id","original":{"line":112,"column":16},"generated":{"line":1,"column":1704}},{"source":"controller.js","original":{"line":112,"column":39},"generated":{"line":1,"column":1707}},{"source":"controller.js","name":"searchTerm","original":{"line":113,"column":14},"generated":{"line":1,"column":1708}},{"source":"controller.js","name":"searchTerm","original":{"line":113,"column":14},"generated":{"line":1,"column":1712}},{"source":"controller.js","name":"$","original":{"line":113,"column":27},"generated":{"line":1,"column":1714}},{"source":"controller.js","original":{"line":113,"column":29},"generated":{"line":1,"column":1716}},{"source":"controller.js","name":"text","original":{"line":113,"column":46},"generated":{"line":1,"column":1733}},{"source":"controller.js","name":"searchTerm","original":{"line":114,"column":10},"generated":{"line":1,"column":1740}},{"source":"controller.js","name":"searchTerm","original":{"line":114,"column":23},"generated":{"line":1,"column":1742}},{"source":"controller.js","name":"trim","original":{"line":114,"column":34},"generated":{"line":1,"column":1744}},{"source":"controller.js","name":"chrome","original":{"line":115,"column":10},"generated":{"line":1,"column":1751}},{"source":"controller.js","name":"storage","original":{"line":115,"column":17},"generated":{"line":1,"column":1758}},{"source":"controller.js","name":"sync","original":{"line":115,"column":25},"generated":{"line":1,"column":1766}},{"source":"controller.js","name":"get","original":{"line":115,"column":30},"generated":{"line":1,"column":1771}},{"source":"controller.js","original":{"line":115,"column":34},"generated":{"line":1,"column":1775}},{"source":"controller.js","name":"betaMode","original":{"line":116,"column":12},"generated":{"line":1,"column":1776}},{"source":"controller.js","original":{"line":116,"column":22},"generated":{"line":1,"column":1786}},{"source":"controller.js","name":"toSort","original":{"line":117,"column":12},"generated":{"line":1,"column":1788}},{"source":"controller.js","original":{"line":117,"column":20},"generated":{"line":1,"column":1796}},{"source":"controller.js","original":{"line":118,"column":13},"generated":{"line":1,"column":1799}},{"source":"controller.js","name":"items","original":{"line":118,"column":22},"generated":{"line":1,"column":1808}},{"source":"controller.js","name":"triggerAPI","original":{"line":120,"column":12},"generated":{"line":1,"column":1811}},{"source":"controller.js","name":"searchTerm","original":{"line":120,"column":23},"generated":{"line":1,"column":1813}},{"source":"controller.js","name":"items","original":{"line":120,"column":35},"generated":{"line":1,"column":1815}},{"source":"controller.js","name":"betaMode","original":{"line":120,"column":41},"generated":{"line":1,"column":1817}},{"source":"controller.js","name":"observer","original":{"line":123,"column":10},"generated":{"line":1,"column":1829}},{"source":"controller.js","name":"disconnect","original":{"line":123,"column":19},"generated":{"line":1,"column":1831}},{"source":"controller.js","name":"observer","original":{"line":131,"column":2},"generated":{"line":1,"column":1848}},{"source":"controller.js","name":"observe","original":{"line":131,"column":11},"generated":{"line":1,"column":1850}},{"source":"controller.js","name":"document","original":{"line":131,"column":19},"generated":{"line":1,"column":1858}},{"source":"controller.js","name":"documentElement","original":{"line":131,"column":28},"generated":{"line":1,"column":1867}},{"source":"controller.js","original":{"line":131,"column":45},"generated":{"line":1,"column":1883}},{"source":"controller.js","name":"childList","original":{"line":132,"column":4},"generated":{"line":1,"column":1884}},{"source":"controller.js","original":{"line":132,"column":15},"generated":{"line":1,"column":1895}},{"source":"controller.js","name":"subtree","original":{"line":133,"column":4},"generated":{"line":1,"column":1897}},{"source":"controller.js","original":{"line":133,"column":13},"generated":{"line":1,"column":1906}},{"source":"controller.js","name":"main","original":{"line":138,"column":0},"generated":{"line":1,"column":1910}}],"sources":{"controller.js":"import React, {Component} from 'react';\n\nimport ReactDOM from 'react-dom';\n\n\nimport * as customUtils from './lib/utils';\nimport * as label from './lib/label';\nimport * as tooltip from './lib/tooltip';\nimport * as reformat from './lib/reformat'\nimport * as addToCart from './lib/add_to_cart'\nimport * as priceChanger from './lib/price_changer'\nimport * as rating from './lib/rating'\nimport * as abTest from './lib/ab_test'\n\n\n\n\n\nfunction updateUICallback(data, betaMode, configuration) {\n\n  var productGreenRating = data.classification;\n\n  if (!betaMode && productGreenRating != 0) { //disable most features on beta mode\n    return;\n  }\n\n  //TODO: call chrome local storage apis to retrieve configuration\n  //and use configuration to determine which features should exist\n\n\n\n\n  // if(configuration.reformat.is_on)\n  //   reformat.spaceTitleDiv();\n  if(configuration.label.is_on || true)\n    label.create(data);\n  if(configuration.tooltip.is_on)\n    tooltip.create(data);\n\n  //this check doesn't apply to the above features\n  //because the above would work with not enough data\n\n  var notEnoughData = (data.has_results == false || (data.data_quality !=0 && data.data_quality < 2))\n  if (!notEnoughData) {\n    if(configuration.background_color.is_on)\n      reformat.changeBackgroundColor(data);\n    if(configuration.add_to_cart.is_on)\n      addToCart.create(data);\n    if(configuration.price.is_on)\n      priceChanger.create(data, configuration.price);\n    if(configuration.rating.is_on)\n      rating.create(data);\n  }\n\n\n  abTest.mixpanelInstall();\n  abTest.registerSession(configuration, data);\n  abTest.trackingCode();\n};\n\n\n\n\n\n\n\nfunction triggerAPI(searchTerm, betaMode) {\n  var encodedSearchTerm = encodeURIComponent(searchTerm);\n  var m = customUtils.regexFunc();\n  var serverUrl = \"https://sheltered-mountain-69586.herokuapp.com/GetProductClass?name=\" + encodedSearchTerm + \"&mode=\" + betaMode;\n  if (m != null && m != undefined && m.length > 7) {\n    serverUrl += \"&asin=\" + m[7];\n  }\n\n  $.get(serverUrl, function(data, status) {\n    console.log(data);\n    data = JSON.parse(data);\n    chrome.storage.sync.get(['feature_settings'], function(result) {\n\n      if(result.feature_settings == undefined || result.feature_settings == null)\n        result.feature_settings = abTest.generateConfiguration();\n      else\n        console.log(\"configuration already set\");\n      updateUICallback(data, betaMode, result.feature_settings);\n    });\n\n  });\n\n\n};\n\n\n\n\n\n\n\n//main function\nfunction main() {\n  //we need the product title to trigger the api call thus it needs to be parsed\n  //observe the dom to figure out when this is parsed and we can trigger api call\n\n  var observer = new MutationObserver(function(mutations) {\n\n    for (var i = 0; i < mutations.length; i++) {\n      for (var j = 0; j < mutations[i].addedNodes.length; j++) {\n        // We're iterating through _all_ the elements as the parser parses them,\n        // deciding if they're the one we're looking for.\n        var node = mutations[i].addedNodes[j];\n\n        if ((node.nodeType == Node.ELEMENT_NODE) &&\n          (node.id == \"productTitle\")) {\n          var searchTerm = $(\"#productTitle\").text();\n          searchTerm = searchTerm.trim();\n          chrome.storage.sync.get({\n            betaMode: true,\n            toSort: true\n          }, function(items) {\n\n            triggerAPI(searchTerm, items.betaMode); //probably url encode product info\n\n          });\n          observer.disconnect();\n        }\n\n\n      }\n    }\n  });\n\n  observer.observe(document.documentElement, {\n    childList: true,\n    subtree: true\n  });\n\n};\n\nmain();\n"},"lineCount":null}},"hash":"4f29a2caad54d60f23efe9d34762f23a","cacheData":{"env":{}}}