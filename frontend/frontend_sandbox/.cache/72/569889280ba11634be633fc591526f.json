{"id":"rd4m","dependencies":[{"name":"/Users/adityaaggarwal/Documents/2019/3elephants/frontend_sandbox/package.json","includedInParent":true,"mtime":1552520135849}],"generated":{"js":"$(function(){chrome.storage.sync.get({betaMode:!0,toSort:!0},function(e){var t=document.getElementById(\"s-results-list-atf\");if(null==t){if(null==document.getElementsByClassName(\"s-result-list\"))return;t=document.getElementsByClassName(\"s-result-list\")[0]}b=t.children,e.toSort&&function(e,t){var n=[];for(i=0;i<e.children.length&&null!=t[i];i++){var s=t[i].getElementsByClassName(\"s-access-title\")[0];null==s&&(s=t[i].getElementsByClassName(\"a-size-medium a-color-base a-text-normal\")[0]),null==s&&(s=t[i].getElementsByClassName(\"a-size-base-plus a-color-base a-text-normal\")[0]),null!=s&&(s=s.innerHTML.trim(),n.push(s))}$.ajax({type:\"POST\",url:\"https://sheltered-mountain-69586.herokuapp.com/GetSearchResultsPageCache\",data:JSON.stringify(n),contentType:\"application/json; charset=utf-8\",dataType:\"json\",success:function(n){!function(e,t,n){var s=e.reduce(function(e,t){return e+n[t].outerHTML},\"\");t.innerHTML=s}(n.map(function(e){return e.orig_pos}),e,t)},failure:function(e){console.log(e)}})}(t,b)})});","map":{"mappings":[{"source":"sort_script.js","name":"$","original":{"line":2,"column":0},"generated":{"line":1,"column":0}},{"source":"sort_script.js","original":{"line":2,"column":2},"generated":{"line":1,"column":2}},{"source":"sort_script.js","name":"chrome","original":{"line":58,"column":2},"generated":{"line":1,"column":13}},{"source":"sort_script.js","name":"storage","original":{"line":58,"column":9},"generated":{"line":1,"column":20}},{"source":"sort_script.js","name":"sync","original":{"line":58,"column":17},"generated":{"line":1,"column":28}},{"source":"sort_script.js","name":"get","original":{"line":58,"column":22},"generated":{"line":1,"column":33}},{"source":"sort_script.js","original":{"line":58,"column":26},"generated":{"line":1,"column":37}},{"source":"sort_script.js","name":"betaMode","original":{"line":59,"column":4},"generated":{"line":1,"column":38}},{"source":"sort_script.js","original":{"line":59,"column":14},"generated":{"line":1,"column":48}},{"source":"sort_script.js","name":"toSort","original":{"line":60,"column":4},"generated":{"line":1,"column":50}},{"source":"sort_script.js","original":{"line":60,"column":12},"generated":{"line":1,"column":58}},{"source":"sort_script.js","original":{"line":61,"column":5},"generated":{"line":1,"column":61}},{"source":"sort_script.js","name":"items","original":{"line":61,"column":14},"generated":{"line":1,"column":70}},{"source":"sort_script.js","name":"list","original":{"line":63,"column":8},"generated":{"line":1,"column":73}},{"source":"sort_script.js","name":"list","original":{"line":63,"column":8},"generated":{"line":1,"column":77}},{"source":"sort_script.js","name":"document","original":{"line":63,"column":15},"generated":{"line":1,"column":79}},{"source":"sort_script.js","name":"getElementById","original":{"line":63,"column":24},"generated":{"line":1,"column":88}},{"source":"sort_script.js","original":{"line":63,"column":39},"generated":{"line":1,"column":103}},{"source":"sort_script.js","name":"list","original":{"line":64,"column":8},"generated":{"line":1,"column":125}},{"source":"sort_script.js","original":{"line":64,"column":16},"generated":{"line":1,"column":128}},{"source":"sort_script.js","name":"list","original":{"line":64,"column":8},"generated":{"line":1,"column":134}},{"source":"sort_script.js","original":{"line":64,"column":22},"generated":{"line":1,"column":136}},{"source":"sort_script.js","name":"document","original":{"line":66,"column":9},"generated":{"line":1,"column":137}},{"source":"sort_script.js","name":"undefined","original":{"line":66,"column":61},"generated":{"line":1,"column":140}},{"source":"sort_script.js","name":"document","original":{"line":66,"column":9},"generated":{"line":1,"column":146}},{"source":"sort_script.js","name":"getElementsByClassName","original":{"line":66,"column":18},"generated":{"line":1,"column":155}},{"source":"sort_script.js","original":{"line":66,"column":41},"generated":{"line":1,"column":178}},{"source":"sort_script.js","original":{"line":67,"column":8},"generated":{"line":1,"column":195}},{"source":"sort_script.js","name":"list","original":{"line":68,"column":6},"generated":{"line":1,"column":202}},{"source":"sort_script.js","name":"document","original":{"line":68,"column":13},"generated":{"line":1,"column":204}},{"source":"sort_script.js","name":"getElementsByClassName","original":{"line":68,"column":22},"generated":{"line":1,"column":213}},{"source":"sort_script.js","original":{"line":68,"column":45},"generated":{"line":1,"column":236}},{"source":"sort_script.js","original":{"line":68,"column":62},"generated":{"line":1,"column":253}},{"source":"sort_script.js","name":"b","original":{"line":70,"column":4},"generated":{"line":1,"column":256}},{"source":"sort_script.js","name":"list","original":{"line":70,"column":8},"generated":{"line":1,"column":258}},{"source":"sort_script.js","name":"children","original":{"line":70,"column":13},"generated":{"line":1,"column":260}},{"source":"sort_script.js","name":"items","original":{"line":71,"column":5},"generated":{"line":1,"column":269}},{"source":"sort_script.js","name":"toSort","original":{"line":71,"column":11},"generated":{"line":1,"column":271}},{"source":"sort_script.js","name":"getAllTheSortScores","original":{"line":12,"column":11},"generated":{"line":1,"column":279}},{"source":"sort_script.js","name":"list","original":{"line":12,"column":31},"generated":{"line":1,"column":288}},{"source":"sort_script.js","name":"b","original":{"line":12,"column":37},"generated":{"line":1,"column":290}},{"source":"sort_script.js","name":"products","original":{"line":14,"column":8},"generated":{"line":1,"column":293}},{"source":"sort_script.js","name":"products","original":{"line":14,"column":8},"generated":{"line":1,"column":297}},{"source":"sort_script.js","original":{"line":14,"column":19},"generated":{"line":1,"column":299}},{"source":"sort_script.js","name":"i","original":{"line":16,"column":9},"generated":{"line":1,"column":302}},{"source":"sort_script.js","name":"i","original":{"line":16,"column":9},"generated":{"line":1,"column":306}},{"source":"sort_script.js","original":{"line":16,"column":13},"generated":{"line":1,"column":308}},{"source":"sort_script.js","name":"i","original":{"line":16,"column":16},"generated":{"line":1,"column":310}},{"source":"sort_script.js","name":"list","original":{"line":16,"column":20},"generated":{"line":1,"column":312}},{"source":"sort_script.js","name":"children","original":{"line":16,"column":25},"generated":{"line":1,"column":314}},{"source":"sort_script.js","name":"length","original":{"line":16,"column":34},"generated":{"line":1,"column":323}},{"source":"sort_script.js","original":{"line":17,"column":18},"generated":{"line":1,"column":331}},{"source":"sort_script.js","name":"b","original":{"line":17,"column":10},"generated":{"line":1,"column":337}},{"source":"sort_script.js","name":"i","original":{"line":17,"column":12},"generated":{"line":1,"column":339}},{"source":"sort_script.js","name":"i","original":{"line":16,"column":42},"generated":{"line":1,"column":342}},{"source":"sort_script.js","original":{"line":16,"column":47},"generated":{"line":1,"column":346}},{"source":"sort_script.js","name":"title","original":{"line":20,"column":10},"generated":{"line":1,"column":347}},{"source":"sort_script.js","name":"title","original":{"line":20,"column":10},"generated":{"line":1,"column":351}},{"source":"sort_script.js","name":"b","original":{"line":20,"column":18},"generated":{"line":1,"column":353}},{"source":"sort_script.js","name":"i","original":{"line":20,"column":20},"generated":{"line":1,"column":355}},{"source":"sort_script.js","name":"getElementsByClassName","original":{"line":20,"column":23},"generated":{"line":1,"column":358}},{"source":"sort_script.js","original":{"line":20,"column":46},"generated":{"line":1,"column":381}},{"source":"sort_script.js","original":{"line":20,"column":64},"generated":{"line":1,"column":399}},{"source":"sort_script.js","original":{"line":21,"column":19},"generated":{"line":1,"column":402}},{"source":"sort_script.js","name":"title","original":{"line":21,"column":10},"generated":{"line":1,"column":408}},{"source":"sort_script.js","name":"title","original":{"line":22,"column":8},"generated":{"line":1,"column":412}},{"source":"sort_script.js","name":"b","original":{"line":22,"column":16},"generated":{"line":1,"column":414}},{"source":"sort_script.js","name":"i","original":{"line":22,"column":18},"generated":{"line":1,"column":416}},{"source":"sort_script.js","name":"getElementsByClassName","original":{"line":22,"column":21},"generated":{"line":1,"column":419}},{"source":"sort_script.js","original":{"line":22,"column":44},"generated":{"line":1,"column":442}},{"source":"sort_script.js","original":{"line":22,"column":88},"generated":{"line":1,"column":486}},{"source":"sort_script.js","original":{"line":23,"column":19},"generated":{"line":1,"column":490}},{"source":"sort_script.js","name":"title","original":{"line":23,"column":10},"generated":{"line":1,"column":496}},{"source":"sort_script.js","name":"title","original":{"line":24,"column":8},"generated":{"line":1,"column":500}},{"source":"sort_script.js","name":"b","original":{"line":24,"column":16},"generated":{"line":1,"column":502}},{"source":"sort_script.js","name":"i","original":{"line":24,"column":18},"generated":{"line":1,"column":504}},{"source":"sort_script.js","name":"getElementsByClassName","original":{"line":24,"column":21},"generated":{"line":1,"column":507}},{"source":"sort_script.js","original":{"line":24,"column":44},"generated":{"line":1,"column":530}},{"source":"sort_script.js","original":{"line":24,"column":91},"generated":{"line":1,"column":577}},{"source":"sort_script.js","name":"undefined","original":{"line":27,"column":19},"generated":{"line":1,"column":581}},{"source":"sort_script.js","name":"title","original":{"line":27,"column":10},"generated":{"line":1,"column":587}},{"source":"sort_script.js","name":"title","original":{"line":28,"column":8},"generated":{"line":1,"column":591}},{"source":"sort_script.js","name":"title","original":{"line":28,"column":16},"generated":{"line":1,"column":593}},{"source":"sort_script.js","name":"innerHTML","original":{"line":28,"column":22},"generated":{"line":1,"column":595}},{"source":"sort_script.js","name":"trim","original":{"line":28,"column":32},"generated":{"line":1,"column":605}},{"source":"sort_script.js","name":"products","original":{"line":29,"column":8},"generated":{"line":1,"column":612}},{"source":"sort_script.js","name":"push","original":{"line":29,"column":17},"generated":{"line":1,"column":614}},{"source":"sort_script.js","name":"title","original":{"line":29,"column":22},"generated":{"line":1,"column":619}},{"source":"sort_script.js","name":"$","original":{"line":36,"column":4},"generated":{"line":1,"column":623}},{"source":"sort_script.js","name":"ajax","original":{"line":36,"column":6},"generated":{"line":1,"column":625}},{"source":"sort_script.js","original":{"line":36,"column":11},"generated":{"line":1,"column":630}},{"source":"sort_script.js","name":"type","original":{"line":37,"column":6},"generated":{"line":1,"column":631}},{"source":"sort_script.js","original":{"line":37,"column":12},"generated":{"line":1,"column":636}},{"source":"sort_script.js","name":"url","original":{"line":38,"column":6},"generated":{"line":1,"column":643}},{"source":"sort_script.js","original":{"line":38,"column":11},"generated":{"line":1,"column":647}},{"source":"sort_script.js","name":"data","original":{"line":40,"column":6},"generated":{"line":1,"column":722}},{"source":"sort_script.js","name":"JSON","original":{"line":40,"column":12},"generated":{"line":1,"column":727}},{"source":"sort_script.js","name":"stringify","original":{"line":40,"column":17},"generated":{"line":1,"column":732}},{"source":"sort_script.js","name":"products","original":{"line":40,"column":27},"generated":{"line":1,"column":742}},{"source":"sort_script.js","name":"contentType","original":{"line":41,"column":6},"generated":{"line":1,"column":745}},{"source":"sort_script.js","original":{"line":41,"column":19},"generated":{"line":1,"column":757}},{"source":"sort_script.js","name":"dataType","original":{"line":42,"column":6},"generated":{"line":1,"column":791}},{"source":"sort_script.js","original":{"line":42,"column":16},"generated":{"line":1,"column":800}},{"source":"sort_script.js","name":"success","original":{"line":43,"column":6},"generated":{"line":1,"column":807}},{"source":"sort_script.js","original":{"line":43,"column":15},"generated":{"line":1,"column":815}},{"source":"sort_script.js","name":"data","original":{"line":43,"column":24},"generated":{"line":1,"column":824}},{"source":"sort_script.js","name":"sortList","original":{"line":5,"column":11},"generated":{"line":1,"column":828}},{"source":"sort_script.js","name":"sortOrder","original":{"line":5,"column":20},"generated":{"line":1,"column":837}},{"source":"sort_script.js","name":"list","original":{"line":5,"column":31},"generated":{"line":1,"column":839}},{"source":"sort_script.js","name":"b","original":{"line":5,"column":37},"generated":{"line":1,"column":841}},{"source":"sort_script.js","name":"s","original":{"line":7,"column":8},"generated":{"line":1,"column":844}},{"source":"sort_script.js","name":"s","original":{"line":7,"column":8},"generated":{"line":1,"column":848}},{"source":"sort_script.js","name":"sortOrder","original":{"line":7,"column":12},"generated":{"line":1,"column":850}},{"source":"sort_script.js","name":"reduce","original":{"line":7,"column":22},"generated":{"line":1,"column":852}},{"source":"sort_script.js","original":{"line":7,"column":29},"generated":{"line":1,"column":859}},{"source":"sort_script.js","name":"accumulator","original":{"line":7,"column":30},"generated":{"line":1,"column":868}},{"source":"sort_script.js","name":"orig_pos","original":{"line":7,"column":43},"generated":{"line":1,"column":870}},{"source":"sort_script.js","name":"accumulator","original":{"line":7,"column":56},"generated":{"line":1,"column":873}},{"source":"sort_script.js","name":"accumulator","original":{"line":7,"column":56},"generated":{"line":1,"column":880}},{"source":"sort_script.js","name":"b","original":{"line":7,"column":70},"generated":{"line":1,"column":882}},{"source":"sort_script.js","name":"orig_pos","original":{"line":7,"column":72},"generated":{"line":1,"column":884}},{"source":"sort_script.js","name":"outerHTML","original":{"line":7,"column":82},"generated":{"line":1,"column":887}},{"source":"sort_script.js","original":{"line":7,"column":93},"generated":{"line":1,"column":898}},{"source":"sort_script.js","name":"list","original":{"line":8,"column":4},"generated":{"line":1,"column":902}},{"source":"sort_script.js","name":"innerHTML","original":{"line":8,"column":9},"generated":{"line":1,"column":904}},{"source":"sort_script.js","name":"s","original":{"line":8,"column":21},"generated":{"line":1,"column":914}},{"source":"sort_script.js","name":"sortList","original":{"line":47,"column":8},"generated":{"line":1,"column":916}},{"source":"sort_script.js","name":"data","original":{"line":45,"column":24},"generated":{"line":1,"column":917}},{"source":"sort_script.js","name":"map","original":{"line":45,"column":29},"generated":{"line":1,"column":919}},{"source":"sort_script.js","original":{"line":45,"column":33},"generated":{"line":1,"column":923}},{"source":"sort_script.js","name":"element","original":{"line":45,"column":33},"generated":{"line":1,"column":932}},{"source":"sort_script.js","name":"element","original":{"line":45,"column":44},"generated":{"line":1,"column":935}},{"source":"sort_script.js","name":"element","original":{"line":45,"column":44},"generated":{"line":1,"column":942}},{"source":"sort_script.js","name":"orig_pos","original":{"line":45,"column":52},"generated":{"line":1,"column":944}},{"source":"sort_script.js","name":"list","original":{"line":47,"column":28},"generated":{"line":1,"column":955}},{"source":"sort_script.js","name":"b","original":{"line":47,"column":34},"generated":{"line":1,"column":957}},{"source":"sort_script.js","name":"failure","original":{"line":49,"column":6},"generated":{"line":1,"column":961}},{"source":"sort_script.js","original":{"line":49,"column":15},"generated":{"line":1,"column":969}},{"source":"sort_script.js","name":"errMsg","original":{"line":49,"column":24},"generated":{"line":1,"column":978}},{"source":"sort_script.js","name":"console","original":{"line":50,"column":8},"generated":{"line":1,"column":981}},{"source":"sort_script.js","name":"log","original":{"line":50,"column":16},"generated":{"line":1,"column":989}},{"source":"sort_script.js","name":"errMsg","original":{"line":50,"column":20},"generated":{"line":1,"column":993}},{"source":"sort_script.js","name":"getAllTheSortScores","original":{"line":72,"column":5},"generated":{"line":1,"column":999}},{"source":"sort_script.js","name":"list","original":{"line":72,"column":25},"generated":{"line":1,"column":1000}},{"source":"sort_script.js","name":"b","original":{"line":72,"column":31},"generated":{"line":1,"column":1002}}],"sources":{"sort_script.js":"//This function gets the\n$(function() {\n\n  //Using the cached sort scores, this function should order the list by ecofriendliness\n  function sortList(sortOrder, list, b) {\n\n    var s = sortOrder.reduce((accumulator, orig_pos) => accumulator + b[orig_pos].outerHTML, \"\");\n    list.innerHTML = s;\n\t\t// $(\"#loading\").css(\"display\",\"none\");\n  }\n\n  function getAllTheSortScores(list, b) {\n\n    var products = [];\n    // document.getElementsByTagName(\"body\")[0].innerHTML +='<div id=\"loading\"> <div id=\"loading-image\"class=\"loader\"></div></div>';\n    for (i = 0; i < list.children.length; i++) {\n      if (b[i] == null) {\n        break;\n      }\n      var title = b[i].getElementsByClassName(\"s-access-title\")[0];\n      if (title == null)\n        title = b[i].getElementsByClassName(\"a-size-medium a-color-base a-text-normal\")[0]; //for different layout\n      if (title == null) {\n        title = b[i].getElementsByClassName(\"a-size-base-plus a-color-base a-text-normal\")[0]; //for different layout\n      }\n\n      if (title != undefined) {\n        title = title.innerHTML.trim();\n        products.push(title);\n      }\n\n    }\n\n\n    // Here is where you call the API route with the \"jsonString\" variable\n    $.ajax({\n      type: \"POST\",\n      url: \"https://sheltered-mountain-69586.herokuapp.com/GetSearchResultsPageCache\",\n      // The key needs to match your method's input parameter (case-sensitive).\n      data: JSON.stringify(products),\n      contentType: \"application/json; charset=utf-8\",\n      dataType: \"json\",\n      success: function(data) {\n\n        var sortOrder = data.map(element => element.orig_pos);\n\n        sortList(sortOrder, list, b);\n      },\n      failure: function(errMsg) {\n        console.log(errMsg);\n      }\n    });\n\n\n  }\n\n\n  chrome.storage.sync.get({\n    betaMode: true,\n    toSort: true\n  }, function(items) {\n    //get dom element for search results list\n    var list = document.getElementById(\"s-results-list-atf\");\n    if (list == null) {\n\n      if(document.getElementsByClassName(\"s-result-list\") == undefined)\n        return;\n      list = document.getElementsByClassName(\"s-result-list\")[0]; //for different layout\n    }\n    b = list.children;\n\t\tif(items.toSort)\n    \tgetAllTheSortScores(list, b);\n\n\n\n  });\n\n\n\n});\n"},"lineCount":null}},"hash":"9fee013d1f12c0bc6cae52d04fcc6f0e","cacheData":{"env":{}}}